/*! For license information please see main.de75e30d.js.LICENSE.txt */
(()=>{"use strict";var e={6314:(e,t,r)=>{var n=r(7294),i=r(4345),a=r(9164),o=r(6706),c=r(1508),u=r(6914),s=r(1733),l=r(3838),f=r(8979),p=r(7750),d=r(7645),h=r(6867),m=r(2440),v=r(5834),g=r(9334),y=r(5893);const x=function(e){var t=e.open,r=e.onClose,n=e.files,i=e.onDelete,a=e.handleLoad;return(0,y.jsxs)(l.Z,{open:t,onClose:r,children:[(0,y.jsx)(d.Z,{children:"\u8aad\u307f\u8fbc\u307f"}),(0,y.jsx)(p.Z,{children:(0,y.jsx)(m.Z,{children:n.map((function(e,t){return(0,y.jsxs)(v.Z,{onClick:function(){a(e),r()},children:[(0,y.jsx)(g.Z,{primary:e}),(0,y.jsx)(h.Z,{edge:"end","aria-label":"delete",onClick:function(){return i(e)},children:(0,y.jsx)(s.Z,{})})]},t)}))})}),(0,y.jsx)(f.Z,{children:(0,y.jsx)(u.Z,{onClick:r,color:"primary",children:"\u9589\u3058\u308b"})})]})};var b=r(8188),w=r(4689),j=r(8885),P=r(5265),S=r(3797),O=r(2665),C=r(2177),k=r(5568);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const L=function(e){var t=e.open,r=e.handleClose,i=e.handleSaveAs,a=void 0===i?function(e){}:i,o=e.currentFilename,c=T((0,n.useState)(""),2),s=c[0],h=c[1];(0,n.useEffect)((function(e){t&&h(o)}),[t,o]);return(0,y.jsxs)(l.Z,{open:t,onClose:r,children:[(0,y.jsx)(d.Z,{children:"\u540d\u524d\u3092\u3064\u3051\u3066\u4fdd\u5b58"}),(0,y.jsx)(p.Z,{children:(0,y.jsx)(k.Z,{autoFocus:!0,margin:"dense",label:"\u30d5\u30a1\u30a4\u30eb\u540d",fullWidth:!0,value:s,onChange:function(e){return h(e.target.value.replace(/[\\/:*?"<>| ]/g,""))}})}),(0,y.jsxs)(f.Z,{children:[(0,y.jsx)(u.Z,{onClick:r,color:"primary",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,y.jsx)(u.Z,{onClick:function(e){a(s),r()},color:"primary",children:"\u4fdd\u5b58"})]})]})};var Z=r(6818);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function D(){D=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),c=new E(n||[]);return i(o,"_invoke",{value:O(e,r,c)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",h="completed",m={};function v(){}function g(){}function y(){}var x={};s(x,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==r&&n.call(w,o)&&(x=w);var j=y.prototype=v.prototype=Object.create(x);function P(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,c){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==I(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function O(t,r,n){var i=p;return function(a,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var s=f(t,r,n);if("normal"===s.type){if(i=n.done?h:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=h,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(I(t)+" is not iterable")}return g.prototype=y,i(j,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(l(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(j),s(j,u,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return c.type="throw",c.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function A(e,t,r,n,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,i)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e){var t=e.handleSave,r=void 0===t?function(e){}:t,i=e.handleSaveAs,a=void 0===i?function(e){}:i,o=e.handleLoad,c=void 0===o?function(e){}:o,u=e.handleImport,s=void 0===u?function(e){}:u,l=e.handleExport,f=void 0===l?function(e){}:l,p=e.handleDelete,d=void 0===p?function(e){}:p,m=e.currentFilename,v=e.isCurrentFile,g=e.saveFiles,k=void 0===g?[]:g,T=M((0,n.useState)(null),2),E=T[0],I=T[1],_=M((0,n.useState)(!1),2),F=_[0],z=_[1],G=M((0,n.useState)(!1),2),R=G[0],N=G[1],B=(0,n.useRef)(null),U=function(e){I(null)},Y=function(){var e,t=(e=D().mark((function e(t){var r,n,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],n=new FileReader,i=r.name,n.readAsText(r),e.next=6,new Promise((function(e){return n.onload=function(){return e()}}));case 6:r&&s({name:i,json:n.result});case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){A(a,n,i,o,c,"next",e)}function c(e){A(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.Z,{color:"inherit","aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){I(e.currentTarget)},sx:{color:"inherit"},children:(0,y.jsx)(Z.Z,{})}),(0,y.jsxs)(P.Z,{anchorEl:E,open:Boolean(E),onClose:U,children:[(0,y.jsxs)(S.Z,{onClick:function(e){r(),U()},disabled:!v,children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(Z.Z,{})}),"\u4fdd\u5b58"]}),(0,y.jsxs)(S.Z,{onClick:function(e){return N(!0),void U()},children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(C.Z,{})}),"\u540d\u524d\u3092\u3064\u3051\u3066\u4fdd\u5b58"]}),(0,y.jsxs)(S.Z,{onClick:function(e){return z(!0),void U()},disabled:0===k.length,children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(b.Z,{})}),"\u8aad\u307f\u8fbc\u307f(\u524a\u9664)"]}),(0,y.jsxs)(S.Z,{onClick:function(e){f(),U()},children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(w.Z,{})}),"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"]}),(0,y.jsxs)(S.Z,{onClick:function(e){B.current.click(),U()},children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(O.Z,{})}),"\u30a4\u30f3\u30dd\u30fc\u30c8"]})]}),(0,y.jsx)(x,{open:F,onClose:function(e){z(!1)},files:k,onDelete:d,handleLoad:c}),(0,y.jsx)(L,{open:R,handleClose:function(e){return N(!1)},handleSaveAs:a,currentFilename:m}),(0,y.jsx)("input",{type:"file",ref:B,style:{display:"none"},onChange:Y,accept:".json"})]})}var z=r(2734),G=r(2658);const R=function(e){var t=(0,z.Z)();return(0,y.jsxs)(c.Z,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backgroundColor:t.palette.background.default,color:t.palette.text.primary},children:[(0,y.jsxs)("div",{className:"orbit-spinner",children:[(0,y.jsx)("div",{className:"orbit"}),(0,y.jsx)("div",{className:"orbit"}),(0,y.jsx)("div",{className:"orbit"})]}),(0,y.jsx)(G.Z,{variant:"h4",children:"Initializing..."})]})};var N=r(4330);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function W(e,t,r){return(t=X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}var J={index:-1,x:0,y:0,velocityX:0,velocityY:0,accelerationX:0,accelerationY:0,initialTime:0,lifeTime:4e3,maxLifeTime:5e3,damping:.8,scale:.1,tint:{r:0,g:0,b:0,a:0},isSolidColor:!0,startColor:{r:255,g:0,b:0,a:1},endColor:{r:0,g:255,b:0,a:1},startScale:1,endScale:1,startAlpha:1,endAlpha:0,rotation:0,isLoop:!1,isAlive:!0,isImmortal:!1,imageId:""},V=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;$(this,e),W(this,"initProperty",(function(e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];i in e&&(t[i]=e[i])}t.scale=t.startScale,t.prim&&(t.prim.anchor.set(.5),t.prim.scale.set(t.scale),t.prim.tint=t.startColor,t.prim.x=t.x,t.prim.y=t.y,t.prim.alpha=t.startColor.a,t.prim.visible=!1)})),W(this,"getPrim",(function(e){return t.prim})),W(this,"kill",(function(e){t.isAlive&&(t.isAlive=!1,t.prim.destroy())}));var a=Y(Y({},J),r);this.initialParam=a;var o=""===a.imageId?Object.keys(n).sort().at(0):a.imageId,c=new N.jyi(n[o].texture);c.anchor.set(.5),this.prim=c,this.emmiterParam=i,this.initProperty(a)}var t,r,n;return t=e,(r=[{key:"update",value:function(e){if(this.isAlive){var t=this.prim,r=1e3/60*e;if(this.initialTime>0&&!1===t.visible)return this.initialTime-=r,void(this.initialTime<=0&&(t.visible=!0,t.alpha=this.alpha));this.lifeTime-=r;var n=this.lifeTime<0;if(this.isImmortal||!n)if(n&&this.isLoop)this.initProperty(this.initialParam);else{var i=this.initialParam.lifeTime,a=this.lifeTime/i;this.accelerationY+=this.emmiterParam.gravity*e,this.x+=this.velocityX*e,this.y+=this.velocityY*e,this.y+=this.accelerationY*e,this.x+=this.accelerationX*e;var o=this.emmiterParam.airResistance/10||0;if(this.velocityX*=1-o*e,this.velocityY*=1-o*e,this.emmiterParam.useGround&&this.y>this.emmiterParam.groundY&&(this.y=this.emmiterParam.groundY,0!==this.damping?this.accelerationY*=-this.damping:this.accelerationY=Math.abs(this.accelerationY)),t.x=this.x,t.y=this.y,t.rotation=t.rotation%360+this.rotation,t.scale.set(this.scale),!this.isSolidColor){var c=this.startColor,u=this.endColor,s={r:Math.round(c.r+(u.r-c.r)*(1-a)),g:Math.round(c.g+(u.g-c.g)*(1-a)),b:Math.round(c.b+(u.b-c.b)*(1-a)),a:c.a+(u.a-c.a)*(1-a)};t.tint=s,t.alpha=s.a}this.scale=this.startScale+(this.endScale-this.startScale)*(1-a)}else this.kill()}}}])&&H(t.prototype,r),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const K=V;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function re(e,t,r){return(t=ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}var ie=(new N.vB5).FPS,ae="arc",oe="circle",ce="line",ue="uniform",se="left",le="right",fe={duration:15,startLifetime:5,startSpeed:5,damping:.8,gravityModifier:0,startScale:1,endScale:1,rotation:0,isSolidColor:!0,startColor:{r:255,g:0,b:0,a:1},endColor:{r:0,g:255,b:0,a:1},imageId:""},pe={maxParticles:100,maxParticlesParSec:3,airResistance:0,spawnType:"arc",arcParam:{startDegree:335,endDegree:25},circleParam:{radius:10},lineParam:{degree:0,width:500,emitType:"uniform"},blendMode:N.T$b.ADD,gravity:.5,duration:1e3,isLoop:!1,circleRadius:100},de={isPause:!1},he=function(){function e(t){var r=this,n=t.main,i=t.param,a=void 0===i?{}:i,o=t.x,c=void 0===o?0:o,u=t.y,s=void 0===u?0:u,l=t.textures,f=void 0===l?{}:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),re(this,"setParam",(function(e){r.perticleParam=ee(ee({},fe),e.perticle),r.emmiterParam=ee(ee({},pe),e.emmiter),r.controlParam=ee(ee({},de),e.control),r.duration=r.emmiterParam.duration})),re(this,"kill",(function(e){r.isDead&&!r.container||(r.container.destroy(),r.isDead=!0)})),re(this,"init",(function(e){var t=new N.W20;r.container=t,r.guideContainer=new N.W20,r.container.addChild(r.guideContainer),r.refresh()})),re(this,"reset",(function(e){var t=r.x,n=r.y;r.container.removeChildren();var i=new N.TYe(r.emmiterParam.maxParticles,{vertices:!0,position:!0,rotation:!0,uvs:!0,tint:!0,alpha:!0,scale:!0});i.x=t,i.y=n,i.blendMode=r.emmiterParam.blendMode,r.particleContainer=i,r.container.addChild(i);var a=new N.xvT("");a.x=120,a.y=16,a.style.fontSize=18,a.style.fontFamily="monospace",a.style.dropShadow=!0,a.style.dropShadowDistance=1,a.style.lineHeight=19,r.textPrim=a,r.container.addChild(a),r.particlesPerFrame=r.emmiterParam.maxParticlesParSec/ie,r.emitCounter=1})),re(this,"refresh",(function(e){e&&r.setParam(e),r.reset(),r.particles=[],r.removeOldestParticles()})),re(this,"setup",(function(e){return r.refresh()})),re(this,"isMaxParticlesReached",(function(e){return r.particles.length>=r.emmiterParam.maxParticles})),re(this,"getPrim",(function(e){return r.container})),this.initialParam=JSON.parse(JSON.stringify(a)),this.setParam(a),this.particles=[],this.main=n,this.x=c,this.y=s,this.isDead=!1,this.container=null,this.particlesPerFrame=0,this.emitCounter=0,this.debugText="",this.textures=f,this.lineCurrentPosition=0,this.init()}var t,r,n;return t=e,(r=[{key:"removeOldestParticles",value:function(){var e=this.particles.length-this.emmiterParam.maxParticles,t=e>0?this.particles.slice(this.emmiterParam.maxParticles-e,this.emmiterParam.maxParticles):[];this.markToRemove(t)}},{key:"markToRemove",value:function(e){e.forEach((function(e){return e.kill()}))}},{key:"handleArcOrCircleSpawn",value:function(){var e,t=this.emmiterParam,r=t.spawnType,n=t.speed,i=r===oe?{startDegree:0,endDegree:359.99}:this.emmiterParam.arcParam,a=i.startDegree,o=i.endDegree,c=r===oe?this.emmiterParam.circleParam.radius:0;if(o>a)e=a+Math.random()*(o-a);else{var u=360-a+o;e=(a+Math.random()*u)%360}var s=e*(Math.PI/180);return{x:c*Math.sin(s),y:-c*Math.cos(s),velocityX:n*Math.sin(s),velocityY:-n*Math.cos(s)}}},{key:"handleLineSpawn",value:function(){var e,t=this.emmiterParam.speed,r=this.emmiterParam.lineParam,n=r.width,i=r.degree,a=r.emitType;a===ue?e=Math.random()*n-n/2:a===le?(this.lineCurrentPosition-=.1,this.lineCurrentPosition=this.lineCurrentPosition<=0?1:this.lineCurrentPosition,e=this.lineCurrentPosition*n-n/2):a===se&&(this.lineCurrentPosition=(this.lineCurrentPosition+.1)%1,e=this.lineCurrentPosition*n-n/2);var o=i*(Math.PI/180),c=o-Math.PI/2;return{x:e*Math.cos(o),y:e*Math.sin(o),velocityX:t*Math.cos(c),velocityY:t*Math.sin(c)}}},{key:"spawnParticle",value:function(){var e={};this.emmiterParam.spawnType===ae||this.emmiterParam.spawnType===oe?e=this.handleArcOrCircleSpawn():this.emmiterParam.spawnType===ce&&(e=this.handleLineSpawn());var t=e,r=t.x,n=t.y,i=t.velocityX,a=t.velocityY,o=new K(ee({x:r,y:n,velocityX:i,velocityY:a},this.perticleParam),this.textures,this.emmiterParam);this.particles.push(o),this.particleContainer.addChild(o.getPrim())}},{key:"updateParticleContainer",value:function(){this.particleContainer.blendMode=this.emmiterParam.blendMode}},{key:"updateParticleText",value:function(){var e=16777215^this.main.getBackgroundColor();this.textPrim.style.fill=e,this.textPrim.text=this.debugText}},{key:"updateParticles",value:function(e){var t=[];return this.particles.forEach((function(r,n){r.update(e,n),r.isAlive&&t.push(r)}),this),t}},{key:"handleTimeout",value:function(){return 0===this.particles.length&&(this.kill(),!0)}},{key:"viewGuide",value:function(){var e,t=this.x,r=this.y,n=16777215^this.main.getBackgroundColor(),i=this.guideContainer;i.removeChildren();var a=new N.TCu;a.lineStyle(1,n,1);var o=this.emmiterParam.spawnType,c=o===ae?this.emmiterParam.arcParam:{startDegree:0,endDegree:359.99},u=c.startDegree,s=c.endDegree,l=this.emmiterParam.lineParam,f=l.width,p=l.degree,d=this.emmiterParam.circleParam.radius;(re(e={},ae,(function(e){var n=t+300*Math.sin(u*(Math.PI/180)),i=r-300*Math.cos(u*(Math.PI/180)),o=t+300*Math.sin(s*(Math.PI/180)),c=r-300*Math.cos(s*(Math.PI/180));a.moveTo(t,r),a.lineTo(n,i),a.moveTo(t,r),a.lineTo(o,c)})),re(e,oe,(function(e){a.moveTo(t,r),a.drawCircle(t,r,d)})),re(e,ce,(function(e){var n=p*(Math.PI/180),i=f/2*Math.cos(n),o=f/2*Math.sin(n);a.moveTo(t-i,r-o),a.lineTo(t+i,r+o)})),e)[o](),i.addChild(a),this.container.addChild(i)}},{key:"update",value:function(e){if(!this.isPause&&!this.isDead){this.main.isGuide&&this.viewGuide(),this.debugText="\n";var t=16.666666666666668*e;this.duration-=t;var r=this.duration<0;if(this.emmiterParam.isLoop||!r||!this.handleTimeout()){if(!r||this.emmiterParam.isLoop)for(this.emitCounter+=this.particlesPerFrame*e;!this.isMaxParticlesReached()&&this.emitCounter>=1;)this.spawnParticle(),this.emitCounter-=1;this.updateParticleContainer(),this.particles=this.updateParticles(e),this.updateParticleText(),this.removeOldestParticles()}}}},{key:"spawnType",get:function(){return this.emmiterParam.spawnType},set:function(e){this.emmiterParam.spawnType=e}},{key:"maxParticles",get:function(){return this.emmiterParam.maxParticles},set:function(e){this.emmiterParam.maxParticles=e,this.refresh()}},{key:"blendMode",get:function(){return this.emmiterParam.blendMode},set:function(e){this.emmiterParam.blendMode=e}},{key:"gravity",get:function(){return this.emmiterParam.gravity},set:function(e){this.emmiterParam.gravity=e}},{key:"airResistance",get:function(){return this.perticleParam.airResistance},set:function(e){this.perticleParam.airResistance=e}},{key:"maxParticlesParSec",get:function(){return this.emmiterParam.maxParticlesParSec},set:function(e){this.emmiterParam.maxParticlesParSec=e}},{key:"startScale",get:function(){return this.perticleParam.startScale},set:function(e){this.perticleParam.startScale=e}},{key:"endScale",get:function(){return this.perticleParam.endScale},set:function(e){this.perticleParam.endScale=e}},{key:"imageId",get:function(){return this.perticleParam.imageId},set:function(e){this.perticleParam.imageId=e}},{key:"rotation",get:function(){return this.perticleParam.rotation},set:function(e){this.perticleParam.rotation=e}}])&&te(t.prototype,r),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const me=he;var ve=r(2323),ge=r(5638),ye=r(6446),xe=r(7666),be=r(8566),we=r(948),je=r(5092),Pe=r(9572),Se=r(6215),Oe=r(5651),Ce=function(e){return e.toString(16).padStart(2,"0")};function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}var Te=(0,we.ZP)("div")((function(e){var t=e.color,r=t.r,n=t.g,i=t.b,a=t.a;return{width:"26px",height:"26px",border:"2px solid",backgroundColor:"rgba(".concat(r,",").concat(n,",").concat(i,",").concat(a,")")}})),Ee=(0,we.ZP)("div")((function(e){return{margin:"0",backgroundPosition:"0px 0px, 4px 4px",backgroundSize:"8px 8px",backgroundImage:"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc 100%), \n                      linear-gradient(45deg, #ccc 25%, white 25%, white 75%, #ccc 75%, #ccc 100%)"}})),Le=(0,we.ZP)(c.Z)((function(e){return{marginTop:"8px",marginLeft:"12px"}})),Ze=(0,we.ZP)(c.Z)((function(e){return{marginTop:"4px",marginLeft:"12px"}})),Ie=(0,we.ZP)(Oe.Jg)((function(e){return{".react-colorful__saturation":{borderRadius:"0"},".react-colorful__saturation-pointer":{border:"2px solid #fff",width:"12px",height:"12px",borderRadius:"50%",boxShadow:"0 2px 2px #333"},".react-colorful__hue-pointer":{border:"1px solid #fff",width:"8px",height:"17px",borderRadius:"3px",boxShadow:"0 2px 2px #000"},".react-colorful__alpha-pointer":{border:"1px solid #fff",width:"8px",height:"17px",borderRadius:"3px",boxShadow:"0 2px 2px #000"},".react-colorful__hue":{borderRadius:"0",marginTop:"4px",marginBottom:"4px",height:"16px"},".react-colorful__alpha":{height:"16px"},".react-colorful__last-control":{borderRadius:"0"}}})),De=(0,we.ZP)(Oe.ZE)((function(e){return{fontFamily:"monospace",marginLeft:"8px",width:"100px",height:"26px",fontSize:"1.2em"}})),Ae=function(e){return"object"===ke(e)?function(e){var t=e.r,r=e.g,n=e.b,i=e.a;return"#".concat(Ce(t)).concat(Ce(r)).concat(Ce(n)).concat(Ce(Math.round(255*i)))}(e):e},Me=function(e){var t=e.label,r=void 0===t?"":t,n=e.color,i=void 0===n?{r:8,g:8,b:8,a:.5}:n,a=e.handleUpdate,o=void 0===a?function(e){}:a,u=Ae(i);return(0,y.jsxs)(c.Z,{display:"flex",sx:{backgroundColor:"tranceparent",marginTop:"4px",marginBottom:"4px"},children:[(0,y.jsx)(G.Z,{variant:"caption",sx:{width:"6em"},children:r}),(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(Le,{display:"flex",children:(0,y.jsx)(Ie,{color:i,onChange:function(e){o(e)}})}),(0,y.jsxs)(Ze,{display:"flex",children:[(0,y.jsx)(Ee,{children:(0,y.jsx)(Te,{color:i})}),(0,y.jsx)(De,{prefixed:!0,color:u,alpha:!0,onChange:function(e){(e=e.toLowerCase(e),/^#([0-9a-fA-F]{8})$/.test(e))&&o(function(e){return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}}(e))}})]})]})]})};const _e=n.memo(Me);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var ze=(0,we.ZP)("div")((function(e){var t=e.color,r=t.r,n=t.g,i=t.b,a=t.a,o=void 0===a?1:a;return{width:"26px",height:"26px",border:"2px solid",backgroundColor:"rgb(".concat(r,",").concat(n,",").concat(i,",").concat(o,")")}})),Ge=(0,we.ZP)("div")((function(e){return{margin:"0",backgroundPosition:"0px 0px, 4px 4px",backgroundSize:"8px 8px",backgroundImage:"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc 100%), \n                      linear-gradient(45deg, #ccc 25%, white 25%, white 75%, #ccc 75%, #ccc 100%)"}})),Re=(0,we.ZP)(c.Z)((function(e){return{marginTop:"8px",marginLeft:"12px"}})),Ne=(0,we.ZP)(c.Z)((function(e){return{marginTop:"4px",marginLeft:"12px"}})),Be=(0,we.ZP)(Oe.Ts)((function(e){return{".react-colorful__saturation":{borderRadius:"0"},".react-colorful__saturation-pointer":{border:"2px solid #fff",width:"12px",height:"12px",borderRadius:"50%",boxShadow:"0 2px 2px #333"},".react-colorful__hue-pointer":{border:"1px solid #fff",width:"8px",height:"17px",borderRadius:"3px",boxShadow:"0 2px 2px #000"},".react-colorful__alpha-pointer":{border:"1px solid #fff",width:"8px",height:"17px",borderRadius:"3px",boxShadow:"0 2px 2px #000"},".react-colorful__hue":{borderRadius:"0",marginTop:"4px",marginBottom:"4px",height:"16px"},".react-colorful__alpha":{height:"16px"},".react-colorful__last-control":{borderRadius:"0"}}})),Ue=(0,we.ZP)(Oe.ZE)((function(e){return{fontFamily:"monospace",marginLeft:"8px",width:"100px",height:"26px",fontSize:"1.2em"}})),Ye=function(e){return"object"===Fe(e)?function(e){var t=e.r,r=e.g,n=e.b;return"#".concat(Ce(t)).concat(Ce(r)).concat(Ce(n))}(e):e},$e=function(e){var t=e.label,r=void 0===t?"":t,n=e.color,i=void 0===n?{r:100,g:100,b:100,a:1}:n,a=e.handleUpdate,o=void 0===a?function(e){}:a,u=Ye(i);return(0,y.jsxs)(c.Z,{display:"flex",sx:{backgroundColor:"tranceparent",marginTop:"4px",marginBottom:"4px"},children:[(0,y.jsx)(G.Z,{variant:"caption",sx:{width:"6em"},children:r}),(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(Re,{display:"flex",children:(0,y.jsx)(Be,{color:i,onChange:function(e){o(e)}})}),(0,y.jsxs)(Ne,{display:"flex",children:[(0,y.jsx)(Ge,{children:(0,y.jsx)(ze,{color:i})}),(0,y.jsx)(Ue,{prefixed:!0,color:u,alpha:!1,onChange:function(e){(e=e.toLowerCase(e),/^#([0-9a-fA-F]{6})$/.test(e))&&o(function(e){return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}(e))}})]})]})]})};const He=n.memo($e);var We=r(6720),Xe=r(7720),Je=r(2318),Ve=r(3508),Ke=r(2930),qe=r(2519),Qe=r(4477);function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt=function(e){var t=e.textureLists,r=e.currentItem,i=e.handleSelectedItem,a=void 0===i?function(e){}:i,o=e.handleImageDelete,u=void 0===o?function(e){}:o,l=(0,n.useRef)(null);return(0,y.jsx)(Ke.Z,{ref:l,sx:{overflowX:"auto"},rowHeight:100,children:(0,y.jsx)(qe.Z,{sx:{display:"flex",flexDirection:"row"},children:t.map((function(e){var t=e.value,n=r.id===t.id?"2px solid white":"2px solid transparent";return(0,y.jsxs)(c.Z,{sx:{border:n,marginTop:"10px",marginRight:"4px",height:"".concat(80,"px"),cursor:"pointer"},onClick:function(e){return function(e){var t=l.current.scrollLeft;a(e),l.current.scrollLeft=t}(t)},children:[(0,y.jsxs)(c.Z,{sx:{position:"relative"},children:[(0,y.jsx)(Qe.Z,{title:t.name,placement:"top",children:(0,y.jsx)("img",{src:t.source,srcSet:t.source,alt:t.fullname,loading:"lazy",style:{height:"".concat(50,"px")}},"img-".concat(t.id))}),t.isUserdata&&(0,y.jsx)(h.Z,{"aria-label":"delete",onClick:function(e){e.stopPropagation(),u(t.id)},size:"small",sx:{position:"absolute",right:-14,top:-14,visibility:"visible"},children:(0,y.jsx)(s.Z,{fontSize:"small"})})]}),(0,y.jsxs)(G.Z,{display:"inline-block",noWrap:!0,sx:{width:"".concat(42,"px"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variant:"caption",gutterBottom:!0,children:[" ",t.name]})]},"div-".concat(t.id))}))})})},nt=n.memo(rt),it=function(e){var t=e.label,r=void 0===t?"":t,i=e.itemData,a=void 0===i?{}:i,o=e.selectedItem,u=void 0===o?{}:o,s=e.handleClick,l=void 0===s?function(e){}:s,f=e.handleImageDelete,p=void 0===f?function(e){}:f,d=et((0,n.useState)(u),2),h=d[0],m=d[1],v=a.stdTextures,g=void 0===v?[]:v,x=a.userTextures,b=void 0===x?[]:x,w=Object.entries(g).map((function(e){var t=et(e,2);return{key:t[0],value:t[1]}})).sort((function(e){return e.value.name})),j=Object.entries(b).map((function(e){var t=et(e,2);return{key:t[0],value:t[1]}})).sort((function(e){return e.value.name})),P=function(e){m(e),l(e)};return(0,n.useEffect)((function(e){m(u)}),[u]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(G.Z,{variant:"caption",gutterBottom:!0,children:[" ",r]}),(0,y.jsxs)(c.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"4px"},children:[(0,y.jsx)(c.Z,{sx:{width:"100px",height:"100px",padding:"4px",border:"2px solid white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:""!==h.source&&(0,y.jsx)("img",{src:h.source,srcSet:h.source,alt:h.name,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}})}),(0,y.jsx)(Qe.Z,{title:h.isUserdata?h.fullname:h.source,placement:"top",children:(0,y.jsx)(G.Z,{variant:"caption",gutterBottom:!0,sx:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.isUserdata?h.fullname:h.source})})]}),(0,y.jsx)(nt,{textureLists:w,currentItem:h,handleSelectedItem:P,handleImageDelete:p}),(0,y.jsx)(nt,{textureLists:j,currentItem:h,handleSelectedItem:P,handleImageDelete:p})]})};const at=n.memo(it);var ot=r(9941),ct=r(7425),ut=r(5725),st=r(3981),lt=r(4917);function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dt=function(e){var t=e.onChange,r=void 0===t?function(e){}:t,n=e.handleBlur,i=void 0===n?function(e){}:n,a=e.value,o=void 0===a?[{value:335},{value:25}]:a,u=e.min,s=void 0===u?0:u,l=e.max,f=void 0===l?100:l,p=e.step,d=void 0===p?1:p,h=e.round,m=void 0===h?0:h,v=e.textSuffix,g=void 0===v?"":v,x=e.label,b=void 0===x?"":x,w=(0,z.Z)(),j=function(e){r(e)},P=ft(o,2),S=P[0].value,O=P[1].value;return(0,y.jsxs)(c.Z,{sx:{width:"100%"},children:[(0,y.jsxs)(G.Z,{variant:"caption",gutterBottom:!0,children:[" ",b]}),(0,y.jsxs)(ut.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,y.jsx)(ut.ZP,{item:!0,xs:!0,children:(0,y.jsx)(lt.q,{pathRadius:48,pathStartAngle:270,pathEndAngle:269.999,pointers:o,onChange:j,textSuffix:g,textColor:w.palette.text.primary,min:s,max:f,step:d,round:m,pointersOverlap:!0,pointerBgColor:"#2222ff",pointerBgColorSelected:"#45c479",pointerBgColorDisabled:"#cecece",pointerBgColorHover:"#56dc8b",pointerBorder:2,pointerBorderColor:w.palette.text.primary,rangeDragging:!0,pointerRadius:8,textFontSize:12,textFontFamily:"Helvetica,Arial,sans-serif",connectionBgColor:"#ff0000",connectionBgColorHover:"#aa0000",connectionBgColorDisabled:"#333333"})}),(0,y.jsxs)(ut.ZP,{item:!0,children:[(0,y.jsx)(st.Z,{value:S,size:"small",onChange:function(e){var t=e.target.value;return j([{value:Number(void 0===t?0:t)},{value:O}])},onBlur:i,sx:{width:"60px",margin:"4px"},inputProps:{step:.01,min:{min:s},max:{max:f},type:"number","aria-labelledby":"input-slider"}}),(0,y.jsx)(st.Z,{value:O,size:"small",onChange:function(e){var t=e.target.value;return j([{value:S},{value:Number(void 0===t?0:t)}])},onBlur:i,sx:{width:"60px",margin:"4px"},inputProps:{step:.01,min:{min:s},max:{max:f},type:"number","aria-labelledby":"input-slider"}})]})]})]})};const ht=n.memo(dt);function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gt=function(e){var t=e.value,r=void 0===t?0:t,n=e.onChange,i=void 0===n?function(e){}:n,a=(0,z.Z)();return(0,y.jsx)(lt.q,{pathRadius:48,pathStartAngle:270,pathEndAngle:269.999,pointers:r,onChange:function(e){var t=mt(e,1)[0].value;return i(t)},textSuffix:"\xb0",textColor:a.palette.text.primary,min:0,max:359,step:1,hideConnection:!0,pointerBgColor:"#2222ff",pointerBgColorSelected:"#45c479",pointerBgColorDisabled:"#cecece",pointerBgColorHover:"#56dc8b",pointerBorder:2,pointerBorderColor:a.palette.text.primary,pointerRadius:8,textFontSize:12,textFontFamily:"Helvetica,Arial,sans-serif"})};const yt=n.memo(gt);var xt=r(1836);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var St={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"0px",borderWidth:2,borderRadius:2,borderColor:"#AAAAff",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#888888",outline:"none",transition:"border .24s ease-in-out",fontSize:"14px",cursor:"pointer"},Ot={borderColor:"#2196f3"},Ct={borderColor:"#00e676"},kt={borderColor:"#ff1744"};function Tt(e){var t=e.onFileSelected,r=void 0===t?function(e){}:t,i=(0,xt.uI)({accept:{"image/*":[]},onDrop:r}),a=i.getRootProps,o=i.getInputProps,c=i.isFocused,u=i.isDragAccept,s=i.isDragReject,l=(0,n.useMemo)((function(){return jt(jt(jt(jt({},St),c?Ot:{}),u?Ct:{}),s?kt:{})}),[c,u,s]);return(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)(G.Z,{variant:"caption",gutterBottom:!0,children:"\u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"}),(0,y.jsxs)("div",jt(jt({},a({style:l})),{},{children:[(0,y.jsx)("input",jt({},o())),(0,y.jsxs)("p",{style:{margin:"4px"},children:["\u3053\u3053\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b",(0,y.jsx)("br",{}),"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]}))]})}const Et=n.memo(Tt);function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var It=function(e){var t=e.step,r=void 0===t?.001:t,i=e.min,a=void 0===i?0:i,o=e.max,u=void 0===o?1:o,s=e.label,l=void 0===s?"":s,f=e.defaultValue,p=void 0===f?[0,0]:f,d=e.onChange,h=void 0===d?function(e){}:d,m=e.handleBlur,v=void 0===m?function(e){}:m,g=Lt((0,n.useState)([{value:335},{value:25}]),2),x=g[0],b=g[1],w=[x[0].value,x[1].value],j=w[0],P=w[1],S=(0,z.Z)();(0,n.useEffect)((function(e){b([{value:p[0]},{value:p[1]}])}),[p]);var O=function(e){b(e),h([e[0].value,e[1].value])};return(0,y.jsxs)(c.Z,{sx:{width:"100%"},children:[(0,y.jsxs)(G.Z,{variant:"caption",gutterBottom:!0,children:[" ",l]}),(0,y.jsxs)(ut.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,y.jsx)(ut.ZP,{item:!0,xs:!0,children:(0,y.jsx)(lt.q,{pathRadius:48,pathStartAngle:270,pathEndAngle:269.999,pointers:x,onChange:O,textColor:S.palette.text.primary,min:a,max:u,step:r,round:2,pointersOverlap:!0,pointerBgColor:"#2222ff",pointerBgColorSelected:"#45c479",pointerBgColorDisabled:"#cecece",pointerBgColorHover:"#56dc8b",pointerBorder:2,pointerBorderColor:S.palette.text.primary,pointerRadius:8,textFontSize:12,textFontFamily:"Helvetica,Arial,sans-serif",connectionBgColor:"#ff0000",connectionBgColorHover:"#aa0000",connectionBgColorDisabled:"#333333"})}),(0,y.jsxs)(ut.ZP,{item:!0,children:[(0,y.jsx)(st.Z,{value:j,size:"small",onChange:function(e){var t=e.target.value;return O([{value:Number(void 0===t?0:t)},{value:P}])},onBlur:v,sx:{width:"60px",margin:"4px"},inputProps:{step:.01,min:0,max:100,type:"number","aria-labelledby":"input-slider"}}),(0,y.jsx)(st.Z,{value:P,size:"small",onChange:function(e){var t=e.target.value;return O([{value:j},{value:Number(void 0===t?0:t)}])},onBlur:v,sx:{width:"60px",margin:"4px"},inputProps:{step:.01,min:0,max:100,type:"number","aria-labelledby":"input-slider"}})]})]})]})};const Dt=n.memo(It);var At=r(195),Mt=(0,we.ZP)(st.Z)((function(e){return{width:"80px;"}})),_t=function(e){var t=e.label,r=void 0===t?"":t,n=e.calculateValue,i=e.value,a=void 0===i?1:i,o=e.step,u=void 0===o?.001:o,s=e.min,l=void 0===s?0:s,f=e.max,p=void 0===f?1:f,d=e.disabled,h=void 0!==d&&d,m=e.onChange,v=void 0===m?function(e){}:m,g=h?{color:function(e){return e.palette.text.disabled}}:{};return(0,y.jsxs)(c.Z,{sx:{width:"100%"},children:[(0,y.jsxs)(G.Z,{variant:"caption",gutterBottom:!0,sx:g,children:[" ",r,"  ("," ".concat(l," - ").concat(p," "),")"]}),(0,y.jsxs)(ut.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,y.jsx)(ut.ZP,{item:!0,xs:!0,children:(0,y.jsx)(At.ZP,{size:"small",scale:n,step:u,min:l,max:p,onChange:function(e,t){v(t)},defaultValue:a,value:a,"aria-label":"Small",valueLabelDisplay:"auto",disabled:h})}),(0,y.jsx)(ut.ZP,{item:!0,children:(0,y.jsx)(Mt,{value:a,size:"small",onChange:function(e){var t=e.target.value,r=Math.min(Math.max(l,t),p);v(r)},onBlur:function(e){var t=e.target.value,r=Math.min(Math.max(l,t),p);v(r)},disabled:h,inputProps:{step:{step:u},min:{min:l},max:{max:p},type:"number","aria-labelledby":"input-slider",style:{textAlign:"right"}}})})]})]})};const Ft=n.memo(_t);var zt=r(7168);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Gt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut={defaultTexturesConfig:{path:"",files:[]},isDrawerOpen:!0,saveFiles:[],currentFilename:"",isCurrentFile:!1,isInitializing:!0,params:{isSolidColor:!0,startColor:{r:255,g:0,b:0,a:1},endColor:{r:0,g:255,b:0,a:1},backgroundColor:{r:0,g:128,b:0},spawnType:"arc",gravity:0,isLoop:!0,useGround:!1,groundY:100,damping:.8,image:{},scales:[1,1],duration:2e3,lifetime:500,maxParticles:1e3,maxParticlesParSec:50,speed:1,airResistance:0,textures:{},blendMode:N.T$b.ADD,isGrid:!1,rotation:0,arcParam:{startDegree:335,endDegree:25},circleParam:{radius:10},lineParam:{degree:0,width:500,emitType:"uniform"}}},Yt=(0,zt.oM)({name:"pixi-perticle-editor",initialState:Ut,reducers:{setParameter:function(e,t){var r=t.payload.param;e.param=r},initialize:function(e,t){var r=t.payload.domId;e.domId=r},loadDefaultTexturesConfig:function(e){e.loadDefaultTexturesConfigState="pending"},loadDefaultTexturesConfigFulfilled:function(e,t){var r=t.payload.defaultTexturesConfig;e.loadDefaultTexturesConfigState="fulfilled",e.defaultTexturesConfig=r},loadDefaultTexturesConfigRejected:function(e){e.loadDefaultTexturesConfigState="rejected"},setParams:function(e,t){var r=t.payload.params;e.params=Nt(Nt({},e.params),r)},updateParam:function(e,t){var r=t.payload;e.params=Nt(Nt({},e.params),r)},updateBgcolor:function(e){},viewGrid:function(e){},viewGuide:function(e){},changeLoop:function(e){},changeSpawnType:function(e){},changeMaxParticles:function(e){},changeGravity:function(e){},changeAirResistance:function(e){},changeDuration:function(e){},changeLifeTime:function(e){},changeIsSolidColor:function(e){},changeStartColor:function(e){},changeEndColor:function(e){},changeDegrees:function(e){},changeRadius:function(e){},changeMaxParticlesParSec:function(e){},changeLineDegree:function(e){},changeLineWidth:function(e){},changeLineEmitType:function(e){},changeSpeed:function(e){},changeScales:function(e){},changeImage:function(e){},changeUseGround:function(e){},changeGroundY:function(e){},changeDamping:function(e){},changeBlendMode:function(e){},changeRotation:function(e){},onFileSelected:function(e){},handleImageDelete:function(e){},handleSave:function(e){},handleSaveAs:function(e){},handleLoad:function(e){},handleImport:function(e){},handleExport:function(e){},resetTrigger:function(e){},handleDelete:function(e){},handleDrawerOpen:function(e){e.isDrawerOpen=!0},handleDrawerClose:function(e){e.isDrawerOpen=!1},updateFilename:function(e,t){var r=t.payload;e.currentFilename=r,e.isCurrentFile=!0},setSaveFiles:function(e,t){var r=t.payload;e.saveFiles=r},setInitializing:function(e,t){var r=t.payload;e.isInitializing=r}}}),$t=Yt.actions;const Ht=Yt.reducer;var Wt=r(4791);function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qt=(0,we.ZP)(c.Z)((function(e){var t=e.theme,r=e.appbarminheight;return Vt(Vt({},t.mixins.toolbar),{},{"&":{minHeight:r},display:"flex",alignItems:"center",padding:t.spacing(0,1),justifyContent:"flex-start"})})),Qt=(0,we.ZP)(G.Z)((function(e){return{fontSize:"14px;"}})),er=(0,we.ZP)(ot.Z)((function(){return{"&.MuiAccordion-root.Mui-expanded":{margin:"0px 0"}}})),tr=(0,we.ZP)(ct.Z)((function(e){return{flexDirection:"row-reverse","&.MuiAccordionSummary-root":{backgroundColor:"dark"===e.theme.palette.mode?"rgba(77, 77, 77, 1)":"rgba(0, 0, 0, .03)",minHeight:"20px",maxHeight:"20px",borderTop:"1px solid #aaa"},"&.MuiAccordionSummary-root.Mui-expanded":{marginTop:"0px"},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(-90deg)"}}})),rr=(0,we.ZP)(G.Z)((function(e){return{fontSize:"12px"}})),nr=function(e){var t=e.open,r=e.handleDrawerClose,n=e.drawerWidth,i=e.appBarMinHeight,a=e.viewGrid,o=void 0===a?function(e){}:a,u=e.viewGuide,s=void 0===u?function(e){}:u,l=e.changeLoop,f=void 0===l?function(e){}:l,p=e.changeSpawnType,d=void 0===p?function(e){}:p,m=e.changeMaxParticles,v=void 0===m?function(e){}:m,g=e.changeGravity,x=void 0===g?function(e){}:g,b=e.changeAirResistance,w=void 0===b?function(e){}:b,j=e.changeDuration,P=void 0===j?function(e){}:j,S=e.changeLifeTime,O=void 0===S?function(e){}:S,C=e.changeIsSolidColor,k=void 0===C?function(e){}:C,T=e.changeStartColor,E=void 0===T?function(e){}:T,L=e.changeEndColor,Z=void 0===L?function(e){}:L,I=e.changeDegrees,D=void 0===I?function(e){}:I,A=e.changeRadius,M=void 0===A?function(e){}:A,_=e.changeMaxParticlesParSec,F=void 0===_?function(e){}:_,G=e.changeLineDegree,R=void 0===G?function(e){}:G,B=e.changeLineWidth,U=void 0===B?function(e){}:B,Y=e.changeLineEmitType,$=void 0===Y?function(e){}:Y,H=e.changeSpeed,W=void 0===H?function(e){}:H,X=e.changeScales,J=void 0===X?function(e){}:X,V=e.changeImage,K=void 0===V?function(e){}:V,q=e.changeUseGround,Q=void 0===q?function(e){}:q,ee=e.changeGroundY,te=void 0===ee?function(e){}:ee,re=e.changeDamping,ne=void 0===re?function(e){}:re,ie=e.changeBlendMode,fe=void 0===ie?function(e){}:ie,pe=e.onFileSelected,de=void 0===pe?function(e){}:pe,he=e.handleImageDelete,me=void 0===he?function(e){}:he,we=e.updateBgcolor,Oe=void 0===we?function(e){}:we,Ce=e.changeRotation,ke=void 0===Ce?function(e){}:Ce,Te=e.isLoop,Ee=e.duration,Le=e.lifetime,Ze=e.maxParticles,Ie=e.maxParticlesParSec,De=e.speed,Ae=e.airResistance,Me=e.rotation,Fe=e.scales,ze=e.image,Ge=e.textures,Re=e.gravity,Ne=e.useGround,Be=e.groundY,Ue=e.damping,Ye=e.blendMode,$e=e.spawnType,Ke=e.isSolidColor,qe=e.startColor,Qe=e.endColor,et=e.isGrid,tt=e.isGuide,rt=e.backgroundColor,nt=e.arcParam,it=e.circleParam,ot=e.lineParam,ct=(0,z.Z)();return(0,y.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,y.jsx)(We.ZP,{}),(0,y.jsxs)(Je.ZP,{sx:{width:n,flexShrink:0,"& .MuiDrawer-paper":{width:n}},variant:"persistent",anchor:"right",open:t,children:[(0,y.jsx)(qt,{theme:ct,appbarminheight:i,children:(0,y.jsx)(h.Z,{size:"small",onClick:function(e){return r("rtl"===ct.direction)},children:"rtl"===ct.direction?(0,y.jsx)(Pe.Z,{}):(0,y.jsx)(Se.Z,{})})}),(0,y.jsx)(Xe.Z,{}),(0,y.jsxs)(er,{defaultExpanded:!0,children:[(0,y.jsx)(tr,{expandIcon:(0,y.jsx)(Ve.Z,{}),"aria-controls":"panel1a-content",children:(0,y.jsx)(rr,{children:"\u7c92\u5b50"})}),(0,y.jsxs)(je.Z,{children:[(0,y.jsx)(ve.Z,{labelPlacement:"end",control:(0,y.jsx)(ge.Z,{checked:Te,onChange:function(e){return f(e.target.checked)},size:"small"}),label:(0,y.jsx)(Qt,{children:"\u30eb\u30fc\u30d7"})}),(0,y.jsx)(Ft,{label:"\u6301\u7d9a\u6642\u9593(ms)",onChange:P,value:Ee,min:1,max:1e4,step:1,disabled:Te}),(0,y.jsx)(Ft,{label:"\u7c92\u5b50\u306e\u5b58\u5728\u6642\u9593(ms)",onChange:O,value:Le,min:1,max:1e4,step:1}),(0,y.jsx)(Ft,{label:"\u7c92\u5b50\u306e\u6700\u5927\u6570",onChange:v,value:Ze,min:1,max:1e4,step:1}),(0,y.jsx)(Ft,{label:"\u7c92\u5b50\u306e\u653e\u51fa\u6570(1sec)",onChange:F,value:Ie,min:0,max:1e4,step:1}),(0,y.jsx)(Ft,{label:"\u653e\u51fa\u6642\u306e\u521d\u901f",onChange:W,value:De,min:-100,max:100,step:.5}),(0,y.jsx)(Ft,{label:"\u7a7a\u6c17\u62b5\u6297",min:0,max:1,step:.01,onChange:w,value:Ae}),(0,y.jsx)(Ft,{label:"\u56de\u8ee2",min:-1,max:1,step:.01,onChange:ke,value:Me}),(0,y.jsx)(Dt,{label:"\u30b9\u30b1\u30fc\u30eb",onChange:J,defaultValue:Fe,min:0,max:5,step:.01}),(0,y.jsxs)(c.Z,{sx:{marginTop:"6px"},children:[(0,y.jsx)(at,{label:"\u753b\u50cf",selectedItem:ze,itemData:Ge,handleClick:K,handleImageDelete:me}),(0,y.jsx)(Et,{onFileSelected:de})]})]})]}),(0,y.jsxs)(er,{defaultExpanded:!0,children:[(0,y.jsx)(tr,{expandIcon:(0,y.jsx)(Ve.Z,{}),"aria-controls":"panel2a-content",children:(0,y.jsx)(rr,{children:"\u7269\u7406\u8981\u56e0"})}),(0,y.jsxs)(je.Z,{children:[(0,y.jsx)(Ft,{label:"\u91cd\u529b",onChange:x,value:Re,min:-10,max:10,step:.001}),(0,y.jsx)(ve.Z,{labelPlacement:"end",control:(0,y.jsx)(ge.Z,{checked:Ne,onChange:function(e){return Q(e.target.checked)},size:"small"}),label:"\u5730\u9762\u3092\u5229\u7528"}),(0,y.jsx)(Ft,{label:"\u5730\u9762\u5ea7\u6a19",onChange:te,value:Be,min:0,max:1e3,step:1}),(0,y.jsx)(Ft,{label:"\u53cd\u767a\u4fc2\u6570",onChange:ne,value:Ue,min:0,max:1,step:.01}),(0,y.jsx)(Xe.Z,{}),(0,y.jsx)(c.Z,{sx:{marginTop:"6px"},children:(0,y.jsxs)(ye.Z,{fullWidth:!0,children:[(0,y.jsx)(xe.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"\u30d6\u30ec\u30f3\u30c9\u30e2\u30fc\u30c9"}),(0,y.jsxs)(be.Z,{value:Ye,onChange:function(e){return fe(e.target.value)},inputProps:{name:"brendMode",id:"uncontrolled-native"},children:[(0,y.jsx)("option",{value:N.T$b.NORMAL,children:"NORMAL"}),(0,y.jsx)("option",{value:N.T$b.ADD,children:"ADD"}),(0,y.jsx)("option",{value:N.T$b.MULTIPLY,children:"MULTIPLY"}),(0,y.jsx)("option",{value:N.T$b.SCREEN,children:"SCREEN "})]})]})}),(0,y.jsxs)(c.Z,{sx:{marginTop:"6px"},children:[(0,y.jsxs)(ye.Z,{fullWidth:!0,children:[(0,y.jsx)(xe.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"\u751f\u6210\u30bf\u30a4\u30d7"}),(0,y.jsxs)(be.Z,{value:$e,onChange:function(e){return d(e.target.value)},inputProps:{name:"spawnType",id:"uncontrolled-native"},children:[(0,y.jsx)("option",{value:ae,children:"\u6247\u578b"}),(0,y.jsx)("option",{value:oe,children:"\u5186"}),(0,y.jsx)("option",{value:ce,children:"\u76f4\u7dda\u4e0a"})]})]}),$e===ae&&(0,y.jsx)(c.Z,{sx:{marginTop:"16px",alignItems:"stretch",textAlign:"center"},children:(0,y.jsx)(ht,{min:0,max:359.99,step:.1,round:1,textSuffix:"\xb0",value:[{value:nt.startDegree},{value:nt.endDegree}],onChange:D})}),$e===oe&&(0,y.jsx)(c.Z,{sx:{marginTop:"16px",marginLeft:"24px",alignItems:"stretch",textAlign:"center"},children:(0,y.jsx)(Ft,{label:"\u534a\u5f84",min:0,max:1e3,step:.5,value:it.radius,onChange:M})}),$e===ce&&(0,y.jsxs)(c.Z,{sx:{marginTop:"16px",alignItems:"stretch",textAlign:"center"},children:[(0,y.jsx)(yt,{onChange:R,value:[{value:ot.degree}]}),(0,y.jsx)(c.Z,{sx:{marginTop:"16px",marginLeft:"24px",alignItems:"stretch",textAlign:"center"},children:(0,y.jsx)(Ft,{label:"\u5e45",value:ot.width,min:0,max:3e3,step:1,onChange:U})}),(0,y.jsxs)(ye.Z,{children:[(0,y.jsx)(xe.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"\u653e\u51fa\u30bf\u30a4\u30d7"}),(0,y.jsxs)(be.Z,{value:ot.emitType,onChange:function(e){return $(e.target.value)},inputProps:{name:"lineEmitType",id:"uncontrolled-native"},children:[(0,y.jsx)("option",{value:ue,children:"\u5747\u7b49"}),(0,y.jsx)("option",{value:le,children:"\u53f3\u304b\u3089"}),(0,y.jsx)("option",{value:se,children:"\u5de6\u304b\u3089"})]})]})]})]})]})]}),(0,y.jsxs)(er,{defaultExpanded:!0,children:[(0,y.jsx)(tr,{expandIcon:(0,y.jsx)(Ve.Z,{}),"aria-controls":"panel1a-content",children:(0,y.jsx)(rr,{children:"\u30ab\u30e9\u30fc"})}),(0,y.jsxs)(je.Z,{children:[(0,y.jsx)(ve.Z,{labelPlacement:"end",control:(0,y.jsx)(ge.Z,{checked:Ke,size:"small",onChange:function(e){var t=e.target.checked;return k(t)}}),label:(0,y.jsx)(Qt,{children:"\u5358\u8272"})}),(0,y.jsx)(_e,{handleUpdate:E,label:Ke?"\u30ab\u30e9\u30fc":"\u958b\u59cb\u30ab\u30e9\u30fc",color:qe}),!Ke&&(0,y.jsx)(_e,{handleUpdate:Z,label:"\u7d42\u4e86\u30ab\u30e9\u30fc",color:Qe})]})]}),(0,y.jsxs)(er,{defaultExpanded:!0,children:[(0,y.jsx)(tr,{expandIcon:(0,y.jsx)(Ve.Z,{}),"aria-controls":"panel2a-content",children:(0,y.jsx)(rr,{children:"\u8a2d\u5b9a"})}),(0,y.jsxs)(je.Z,{children:[(0,y.jsx)(ve.Z,{labelPlacement:"end",control:(0,y.jsx)(ge.Z,{size:"small",value:et,onChange:function(e){var t=e.target.checked;return o(t)}}),label:"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a"}),(0,y.jsx)("br",{}),(0,y.jsx)(ve.Z,{labelPlacement:"end",control:(0,y.jsx)(ge.Z,{size:"small",value:tt,onChange:function(e){var t=e.target.checked;return s(t)}}),label:"\u30ac\u30a4\u30c9\u3092\u8868\u793a"}),(0,y.jsx)(He,{label:"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u80cc\u666f\u8272",color:rt,handleUpdate:Oe})]})]})]})]})};const ir=(0,o.$j)((function(e){var t=e.main.params;return{isLoop:t.isLoop,duration:t.duration,lifetime:t.lifetime,maxParticles:t.maxParticles,maxParticlesParSec:t.maxParticlesParSec,speed:t.speed,airResistance:t.airResistance,rotation:t.rotation,scales:t.scales,image:t.image,textures:t.textures,gravity:t.gravity,useGround:t.useGround,groundY:t.groundY,damping:t.damping,blendMode:t.blendMode,spawnType:t.spawnType,isSolidColor:t.isSolidColor,startColor:t.startColor,endColor:t.endColor,isGrid:t.isGrid,isGuide:t.isGuide,backgroundColor:t.backgroundColor,arcParam:t.arcParam,circleParam:t.circleParam,lineParam:t.lineParam}}),(function(e){return(0,Wt.DE)($t,e)}))(n.memo(nr));var ar=r(326),or=r(3720),cr=r(1849),ur=r(4386);function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==sr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dr="40px",hr=(0,we.ZP)(or.Z,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,r=e.open;return fr({backgroundColor:"dark"===t.palette.mode?"#000000":"#ffffff",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},r&&{backgroundColor:"dark"===t.palette.mode?"#000000":"#ffffff",width:"calc(100% - ".concat(400,"px)"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:400})}));const mr=(0,o.$j)((function(e){var t=e.main;return{isDrawerOpen:t.isDrawerOpen,currentFilename:t.currentFilename,isCurrentFile:t.isCurrentFile,saveFiles:t.saveFiles,isInitializing:t.isInitializing}}),(function(e){return(0,Wt.DE)($t,e)}))((function(e){var t=e.handleSave,r=void 0===t?function(e){}:t,i=e.handleSaveAs,a=void 0===i?function(e){}:i,o=e.handleLoad,u=void 0===o?function(e){}:o,s=e.handleImport,l=void 0===s?function(e){}:s,f=e.handleExport,p=void 0===f?function(e){}:f,d=e.handleDelete,m=void 0===d?function(e){}:d,v=e.handleDrawerOpen,g=void 0===v?function(e){}:v,x=e.handleDrawerClose,b=void 0===x?function(e){}:x,w=e.resetTrigger,j=void 0===w?function(e){}:w,P=e.initialize,S=void 0===P?function(e){}:P,O=e.isDrawerOpen,C=e.currentFilename,k=e.isCurrentFile,T=e.saveFiles,E=e.isInitializing,L=(0,we.ZP)(ur.Z)((function(e){var t=e.theme;return{"&":{minHeight:dr},color:t.palette.primary.main}}));return(0,n.useEffect)((function(e){S({domId:"contents"})}),[]),E?(0,y.jsx)(R,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(hr,{position:"sticky",children:(0,y.jsxs)(L,{children:[(0,y.jsx)(h.Z,{color:"inherit","aria-label":"reset",edge:"start",onClick:function(e){return j()},sx:{color:"inherit"},children:(0,y.jsx)(cr.Z,{})}),(0,y.jsx)(G.Z,{variant:"h7",component:"div",sx:{color:"inherit"},children:"Particle Editor (1.0.9.Beta)"}),(0,y.jsx)(c.Z,{children:(0,y.jsx)(F,{handleSave:r,handleSaveAs:a,handleLoad:u,handleImport:l,handleExport:p,handleDelete:m,isCurrentFile:k,currentFilename:C,saveFiles:T})}),(0,y.jsx)(c.Z,{sx:{flexGrow:1},children:k&&(0,y.jsxs)(G.Z,{variant:"h7",component:"div",sx:{color:"inherit"},children:["(",C,")"]})}),(0,y.jsx)(h.Z,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(e){return g()},sx:fr(fr({},O&&{display:"none"}),{},{color:"inherit"}),children:(0,y.jsx)(ar.Z,{})})]})}),(0,y.jsx)(ir,{open:O,resetTrigger:j,handleDrawerClose:b,drawerWidth:400,appBarMinHeight:dr})]})}));var vr=r(797),gr=r(4857),yr=r(4424);function xr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=wr(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||wr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){if(e){if("string"===typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Sr(){Sr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),c=new E(n||[]);return i(o,"_invoke",{value:O(e,r,c)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",h="completed",m={};function v(){}function g(){}function y(){}var x={};s(x,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==r&&n.call(w,o)&&(x=w);var j=y.prototype=v.prototype=Object.create(x);function P(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,c){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Pr(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function O(t,r,n){var i=p;return function(a,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var s=f(t,r,n);if("normal"===s.type){if(i=n.done?h:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=h,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Pr(t)+" is not iterable")}return g.prototype=y,i(j,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(l(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(j),s(j,u,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return c.type="throw",c.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Or(e,t,r,n,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,i)}function Cr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Or(a,n,i,o,c,"next",e)}function c(e){Or(a,n,i,o,c,"throw",e)}o(void 0)}))}}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lr(n.key),n)}}function Er(e,t,r){return t&&Tr(e.prototype,t),r&&Tr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lr(e){var t=function(e,t){if("object"!==Pr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pr(t)?t:String(t)}var Zr,Ir,Dr,Ar=function(){function e(t,r){kr(this,e),this.db=t.db,this.storeName=r}return Er(e,[{key:"put",value:function(){var e=Cr(Sr().mark((function e(t,r){var n,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.db.transaction(this.storeName,"readwrite"),i=n.objectStore(this.storeName),e.next=5,i.put(t,r);case 5:return e.next=7,n.done;case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Cr(Sr().mark((function e(t){var r,n,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.db.transaction(this.storeName,"readonly"),n=r.objectStore(this.storeName),e.next=5,n.get(t);case 5:return i=e.sent,e.next=8,r.done;case 8:return e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFromIndex",value:function(){var e=Cr(Sr().mark((function e(t,r){var n,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.db.transaction(this.storeName,"readonly"),i=n.objectStore(this.storeName),a=i.index(t),e.next=6,a.get(r);case 6:return o=e.sent,e.next=9,n.done;case 9:return e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Cr(Sr().mark((function e(t){var r,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.db.transaction(this.storeName,"readwrite"),n=r.objectStore(this.storeName),e.next=5,n.delete(t);case 5:return e.next=7,r.done;case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Cr(Sr().mark((function e(){var t,r,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.db.transaction(this.storeName,"readonly"),r=t.objectStore(this.storeName),e.next=5,r.getAll();case 5:return n=e.sent,e.next=8,t.done;case 8:return e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllKeys",value:function(){var e=Cr(Sr().mark((function e(){var t,r,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.db.transaction(this.storeName,"readonly"),r=t.objectStore(this.storeName),e.next=5,r.getAllKeys();case 5:return n=e.sent,e.next=8,t.done;case 8:return e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mr=function(){function e(t,r){kr(this,e),this.dbName=t,this.storeInfo=r}return Er(e,[{key:"initDB",value:function(){var e=Cr(Sr().mark((function e(){var t=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,yr.X3)(this.dbName,1,{upgrade:function(e){for(var r=0,n=Object.entries(t.storeInfo);r<n.length;r++){var i=br(n[r],2),a=i[0],o=i[1],c=void 0;if(c=e.objectStoreNames.contains(a)?e.transaction.objectStore(a):e.createObjectStore(a),o){var u,s=xr(o);try{for(s.s();!(u=s.n()).done;){var l=u.value,f=l.name,p=l.keyPath,d=l.options;c.indexNames.contains(f)||c.createIndex(f,p,d)}}catch(h){s.e(h)}finally{s.f()}}}}});case 2:this.db=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStore",value:function(e){return new Ar(this,e)}}],[{key:"init",value:function(){var t=Cr(Sr().mark((function t(r,n){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.instance){t.next=4;break}return this.instance=new e(r,n),t.next=4,this.instance.initDB();case 4:return t.abrupt("return",this.instance);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()}]),e}();Zr=Mr,Dr=void 0,(Ir=Lr(Ir="instance"))in Zr?Object.defineProperty(Zr,Ir,{value:Dr,enumerable:!0,configurable:!0,writable:!0}):Zr[Ir]=Dr;const _r=Mr;var Fr=r(3466),zr=r.n(Fr),Gr=r(3416);function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wr(n.key),n)}}function Hr(e,t,r){return(t=Wr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wr(e){var t=function(e,t){if("object"!==Rr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rr(t)?t:String(t)}var Xr=new N.MxU({backgroundColor:1153314,width:640,height:480}),Jr={perticle:{lifeTime:1e3,startLifetime:5,startSpeed:5,startScale:.5,endScale:.1,damping:.03,isSolidColor:!1,startColor:{r:240,g:140,b:140,a:1},endColor:{r:230,g:190,b:180,a:0},gravityModifier:0,isAutoRandomSeed:!1,randomSeed:0,imageId:"",rotation:0},emmiter:{isLoop:!0,useGround:!1,groundY:100,speed:5,airResistance:.01,maxParticles:100,maxParticlesParSec:15,spawnType:ae,blendMode:N.T$b.ADD,gravity:0,duration:5e3,arcParam:{startDegree:335,endDegree:25},circleParam:{radius:10},lineParam:{degree:0,width:500,emitType:ue}},control:{isPause:!1}},Vr=JSON.parse(JSON.stringify(Jr)),Kr=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hr(this,"loadTextures",(function(e){var t=e.defaultTexturesConfig,n=void 0===t?{}:t;if(0!==Object.keys(n)){var i=n.path,a=n.files;r.defaultTexturePath=i,a.forEach((function(e,t){var n="".concat(i).concat(e.filename),a=n,o=r.addTexture({name:e.filename,source:n,fullname:a,hash:e.hash});0===t&&(r.defaultImageId=o,Jr.perticle.imageId=o)}),r)}})),Hr(this,"loadUserTextures",(function(e){r.userTextures=[],Object.keys(e).forEach((function(t){r.addTexture(Yr(Yr({},e[t]),{},{id:t,source:e[t].source,isUserdata:!0}))}))})),Hr(this,"deleteUserTexture",(function(e){Jr.perticle.imageId===e&&(Jr.perticle.imageId=r.defaultImageId),delete r.textures["".concat(e)],r.userTextures=r.userTextures.filter((function(t){return t.id!==e})),r.effects.forEach((function(t){t.imageId===e&&(t.imageId=r.defaultImageId)}))})),Hr(this,"addTexture",(function(e){var t=e.id,n=void 0===t?(0,Gr.x0)():t,i=e.name,a=e.source,o=e.texture,c=e.fullname,u=void 0===c?"":c,s=e.hash,l=e.isUserdata,f=void 0!==l&&l,p={id:n,source:a,name:i,texture:o,isUserdata:f,fullname:u,hash:s};return r.textures["".concat(n)]=Yr(Yr({},p),{},{texture:N.xEZ.from(a)}),f?r.userTextures.push(p):r.stdTextures.push(p),n})),Hr(this,"reset",(function(e){r.effectsContainer.removeChildren(),r.effects=[],e&&r.resize(e.width);var t=r.getCanvasSize(),n=t.width,i=t.height;r.createEffect({main:r,param:Jr,x:n/2,y:i/2})})),Hr(this,"getBackgroundColor",(function(e){return Xr.renderer.background.color})),Hr(this,"getCanvasSize",(function(e){return{width:2*Math.floor(r.appDom.offsetWidth/2),height:2*Math.floor(r.appDom.offsetHeight/2)}})),Hr(this,"resize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=r.getCanvasSize(),n=t.width,i=t.height;console.log("canvas w:".concat(n,"/h").concat(i)),Xr.renderer.resize(n-e,i),r.makeGrid(),r.reset(e)})),Hr(this,"updateBgColor",(function(e){var t=e.r,n=e.g,i=e.b,a=new N.Ilk({r:t,g:n,b:i}).toNumber();Xr.renderer.background.color=a,r.makeGrid()})),Hr(this,"setViewGrid",(function(e){return r.gridContainer.visible=e})),Hr(this,"setViewGuide",(function(e){r.isGuide=e,r.refresh()})),Hr(this,"setLoop",(function(e){Jr.emmiter.isLoop=e,r.paramUpdate(),e&&r.reset()})),Hr(this,"setSawnType",(function(e){Jr.emmiter.spawnType=e,r.refresh()})),Hr(this,"changeMaxParticles",(function(e){Jr.emmiter.maxParticles=e,r.refresh()})),Hr(this,"changeMaxParticlesParSec",(function(e){Jr.emmiter.maxParticlesParSec=e,r.refresh()})),Hr(this,"changeBlendMode",(function(e){Jr.emmiter.blendMode=e,r.paramUpdate()})),Hr(this,"changeGravity",(function(e){Jr.emmiter.gravity=e,r.paramUpdate()})),Hr(this,"changeAirResistance",(function(e){Jr.emmiter.airResistance=e,r.paramUpdate()})),Hr(this,"changeDuration",(function(e){Jr.emmiter.duration=e,r.paramUpdate()})),Hr(this,"changeLifeTime",(function(e){Jr.perticle.lifeTime=e,r.paramUpdate()})),Hr(this,"changeIsSolidColor",(function(e){Jr.perticle.isSolidColor=e,r.paramUpdate()})),Hr(this,"changeStartColor",(function(e){Jr.perticle.startColor=e,r.paramUpdate()})),Hr(this,"changeEndColor",(function(e){Jr.perticle.endColor=e,r.paramUpdate()})),Hr(this,"changeDegrees",(function(e){var t=Nr(e,2),n=t[0],i=t[1];Jr.emmiter.arcParam.startDegree=n.value,Jr.emmiter.arcParam.endDegree=i.value,r.paramUpdate()})),Hr(this,"changeRadius",(function(e){Jr.emmiter.circleParam.radius=e,r.paramUpdate()})),Hr(this,"changeLineDegree",(function(e){Jr.emmiter.lineParam.degree=e,r.paramUpdate()})),Hr(this,"changeLineWidth",(function(e){Jr.emmiter.lineParam.width=e,r.paramUpdate()})),Hr(this,"changeLineEmitType",(function(e){Jr.emmiter.lineParam.emitType=e,r.paramUpdate()})),Hr(this,"changeSpeed",(function(e){Jr.emmiter.speed=e,r.paramUpdate()})),Hr(this,"changeScales",(function(e){var t=Nr(e,2),n=t[0],i=t[1];Jr.perticle.startScale=n,Jr.perticle.endScale=i,r.paramUpdate()})),Hr(this,"changeUseGround",(function(e){Jr.emmiter.useGround=e,r.paramUpdate()})),Hr(this,"changeGroundY",(function(e){Jr.emmiter.groundY=e,r.paramUpdate()})),Hr(this,"changeDamping",(function(e){Jr.perticle.damping=e,r.paramUpdate()})),Hr(this,"changeImage",(function(e){Jr.perticle.imageId=e.id,r.paramUpdate()})),Hr(this,"changeRotation",(function(e){Jr.perticle.rotation=e,r.paramUpdate()})),Hr(this,"refresh",(function(e){r.effects.forEach((function(e){return e.refresh(Jr)}))})),Hr(this,"paramUpdate",(function(e){r.effects.forEach((function(e){return e.setParam(Jr)}))})),Hr(this,"getParams",(function(e){var t,n={r:(t=Xr.renderer.background.color<<8)>>24&255,g:t>>16&255,b:t>>8&255,a:255&t},i=Yr(Yr({},r.textures[Jr.perticle.imageId]),{},{texture:null});return{backgroundColor:n,isGrid:r.gridContainer.visible,isGuide:r.isGuide,maxParticles:Jr.emmiter.maxParticles,blendMode:Jr.emmiter.blendMode,gravity:Jr.emmiter.gravity,airResistance:Jr.emmiter.airResistance,isLoop:Jr.emmiter.isLoop,maxParticlesParSec:Jr.emmiter.maxParticlesParSec,lifetime:Jr.perticle.lifeTime,duration:Jr.emmiter.duration,spawnType:Jr.emmiter.spawnType,speed:Jr.emmiter.speed,lineParam:Yr({},Jr.emmiter.lineParam),endColor:Jr.perticle.endColor,startColor:Jr.perticle.startColor,scales:[Jr.perticle.startScale,Jr.perticle.endScale],useGround:Jr.emmiter.useGround,groundY:Jr.emmiter.groundY,damping:Jr.perticle.damping,rotation:Jr.perticle.rotation,image:i,textures:{stdTextures:r.stdTextures,userTextures:r.userTextures},isSolidColor:Jr.perticle.isSolidColor}})),Hr(this,"importFromObj",(function(e){var t=Yr(Yr(Yr({},Vr.perticle),Vr.emmiter),e);Jr.perticle.lifeTime=t.lifetime,Jr.perticle.endColor=t.endColor,Jr.perticle.startColor=t.startColor,Jr.perticle.startScale=t.scales[0],Jr.perticle.endScale=t.scales[1],Jr.perticle.damping=t.damping,Jr.perticle.rotation=t.rotation,Jr.perticle.isSolidColor=t.isSolidColor,Jr.emmiter.maxParticles=t.maxParticles,Jr.emmiter.blendMode=t.blendMode,Jr.emmiter.gravity=t.gravity,Jr.emmiter.airResistance=t.airResistance,Jr.emmiter.isLoop=t.isLoop,Jr.emmiter.maxParticlesParSec=t.maxParticlesParSec,Jr.emmiter.duration=t.duration,Jr.emmiter.spawnType=t.spawnType,Jr.emmiter.speed=t.speed,Jr.emmiter.lineParam=Yr({},t.lineParam),Jr.emmiter.useGround=t.useGround,Jr.emmiter.groundY=t.groundY,r.gridContainer.visible=t.isGrid,r.changeImage(t.image),r.reset()})),Hr(this,"exportToJSON",(function(e){var t=r.getParams();return delete t.textures,t.version="1.0",JSON.stringify(t)})),Hr(this,"findStdTextureByHash",(function(e){var t=r.stdTextures.filter((function(t){return t.hash===e}));return t.length?t[0]:null})),this.domId=t,this.defaultTexturesConfig={},this.defaultTexturePath="",this.defaultImageId="",this.isGuide=!1}var t,r,n;return t=e,(r=[{key:"initialize",value:function(e){var t=this,r=e.defaultTexturesConfig,n=document.getElementById(this.domId);this.defaultTexturesConfig=r,this.textures={},this.stdTextures=[],this.userTextures=[],this.loadTextures({defaultTexturesConfig:r,default:!0});var i=new(zr());i.showPanel(0),i.dom.id="stats",i.dom.style.cssText="",this.stats=i,n.appendChild(i.dom),n.appendChild(Xr.view),Xr.view.dispatchEvent(new PointerEvent("click",{pointerType:"mouse",clientX:1,clientY:1,isPrimary:!0}));var a=new N.W20;this.gridContainer=a,this.gridContainer.visible=!1,Xr.stage.addChild(a);var o=new N.W20;this.guideContainer=o,this.guideContainer.visible=!1,Xr.stage.addChild(o),this.effects=[];var c=new N.W20;this.effectsContainer=c,Xr.stage.addChild(this.effectsContainer),window.addEventListener("resize",(function(e){t.resize(e)}),!1),this.appDom=n,this.resize(),this.testValue="",Xr.stage.hitArea=Xr.screen,Xr.stage.eventMode="static",Xr.stage.on("pointerdown",(function(e){t.createEffect({main:t,param:Jr,x:e.clientX,y:e.clientY})})),this.reset()}},{key:"createEffect",value:function(e){var t=new me(Yr(Yr({},e),{},{textures:this.textures}));this.effectsContainer.addChild(t.getPrim()),this.effects.push(t)}},{key:"makeGrid",value:function(){var e=16777215^Xr.renderer.background.color,t=this.getCanvasSize(),r=t.width,n=t.height,i=r/2,a=n/2;this.gridContainer.removeChildren();var o=new N.TCu;o.lineStyle(1,e,1),o.moveTo(0,a),o.lineTo(r,a),o.moveTo(i,0),o.lineTo(i,n),this.gridContainer.addChild(o)}},{key:"run",value:function(){var e=this,t=this.stats;Xr.ticker.add((function(r){t.begin(),e.effects=e.effects.filter((function(e){return!e.isDead})),e.effects.forEach((function(e){return e.update(r)})),t.end()}))}}])&&$r(t.prototype,r),n&&$r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const qr=Kr;function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach((function(t){rn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Qr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||hn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var an=vn().mark(Sn),on=vn().mark(On),cn=vn().mark(En),un=vn().mark(Ln),sn=vn().mark(oi),ln=vn().mark(fi),fn=vn().mark(di),pn=vn().mark(hi);function dn(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=hn(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function hn(e,t){if(e){if("string"===typeof e)return mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mn(e,t):void 0}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vn(){vn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),c=new E(n||[]);return i(o,"_invoke",{value:O(e,r,c)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",h="completed",m={};function v(){}function g(){}function y(){}var x={};s(x,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==r&&n.call(w,o)&&(x=w);var j=y.prototype=v.prototype=Object.create(x);function P(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,c){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Qr(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function O(t,r,n){var i=p;return function(a,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var s=f(t,r,n);if("normal"===s.type){if(i=n.done?h:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=h,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Qr(t)+" is not iterable")}return g.prototype=y,i(j,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(l(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(j),s(j,u,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return c.type="throw",c.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function gn(e,t,r,n,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,i)}function yn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){gn(a,n,i,o,c,"next",e)}function c(e){gn(a,n,i,o,c,"throw",e)}o(void 0)}))}}var xn=null,bn=function(e){return new Promise((function(t){return setTimeout(t,e)}))},wn=function(e){for(var t=window.atob(e.split(",")[1]),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer},jn=function(){var e=yn(vn().mark((function e(t){var r,n,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-256",t);case 2:return r=e.sent,n=Array.from(new Uint8Array(r)),i=n.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pn=function(){var e=yn(vn().mark((function e(t){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("data:image/")){e.next=4;break}e.t0=wn(t),e.next=9;break;case 4:return e.next=6,fetch(t);case 6:return e.next=8,e.sent.arrayBuffer();case 8:e.t0=e.sent;case 9:return r=e.t0,e.next=12,jn(r);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Sn(){var e,t,r,n,i,a;return vn().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=_r.instance.getStore("images"),o.next=3,e.getAllKeys();case 3:t=o.sent,r={},n=dn(t),o.prev=6,n.s();case 8:if((i=n.n()).done){o.next=15;break}return a=i.value,o.next=12,e.get(a);case 12:r[a]=o.sent;case 13:o.next=8;break;case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(6),n.e(o.t0);case 20:return o.prev=20,n.f(),o.finish(20);case 23:return xn.loadUserTextures(r),o.next=26,(0,gr.gz)($t.setParams({params:xn.getParams()}));case 26:case"end":return o.stop()}}),an,null,[[6,17,20,23]])}function On(){var e,t;return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=_r.instance.getStore("perticles"),r.next=3,e.getAllKeys();case 3:return t=r.sent,r.next=6,(0,gr.gz)($t.setSaveFiles(t));case 6:case"end":return r.stop()}}),on)}function Cn(e){return kn.apply(this,arguments)}function kn(){return(kn=yn(vn().mark((function e(t){var r,n,i,a,o,c,u,s,l,f;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.path,n=t.files,i={path:r,files:[]},a=dn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=20;break}return c=o.value,u="".concat(r).concat(c),e.next=10,fetch(u);case 10:return s=e.sent,e.next=13,s.arrayBuffer();case 13:return l=e.sent,e.next=16,jn(l);case 16:f=e.sent,i.files.push({filename:c,hash:f});case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:return e.abrupt("return",i);case 29:case"end":return e.stop()}}),e,null,[[3,22,25,28]])})))).apply(this,arguments)}function Tn(e){var t=e.payload.domId;return vn().mark((function e(){var r,n,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,gr.gz)($t.setInitializing(!0));case 4:return xn=new qr(t),e.next=7,(0,gr.RE)(En);case 7:return e.next=9,(0,gr.Ys)((function(e){return e}));case 9:return r=e.sent,n=r.main.defaultTexturesConfig,e.next=13,Cn(n);case 13:return i=e.sent,xn.initialize({defaultTexturesConfig:i}),e.next=17,(0,gr.RE)(Sn);case 17:return e.next=19,(0,gr.RE)(On);case 19:return e.next=21,(0,gr.gz)($t.setParams({params:xn.getParams()}));case 21:return e.next=23,(0,gr.RE)(bn,1e3);case 23:return xn.run(),e.next=26,(0,gr.gz)($t.setInitializing(!1));case 26:case"end":return e.stop()}}),e)}))()}function En(){var e,t;return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("./assets/defaultTexturesConfig.json");case 3:return e=r.sent,r.next=6,e.json();case 6:return t=r.sent,r.next=9,(0,gr.gz)($t.loadDefaultTexturesConfigFulfilled({defaultTexturesConfig:t}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,(0,gr.gz)($t.loadDefaultTexturesConfigRejected({error:r.t0}));case 15:case"end":return r.stop()}}),cn,null,[[0,11]])}function Ln(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!0;case 2:xn&&xn.reset();case 3:case"end":return e.stop()}}),un)}function Zn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.updateBgColor(t),e.next=3,(0,gr.gz)($t.updateParam({backgroundColor:t}));case 3:case"end":return e.stop()}}),e)}))()}function In(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.setViewGrid(t),e.next=3,(0,gr.gz)($t.updateParam({isGrid:t}));case 3:case"end":return e.stop()}}),e)}))()}function Dn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.setViewGuide(t),e.next=3,(0,gr.gz)($t.updateParam({isGuide:t}));case 3:case"end":return e.stop()}}),e)}))()}function An(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.setLoop(t),e.next=3,(0,gr.gz)($t.updateParam({isLoop:t}));case 3:case"end":return e.stop()}}),e)}))()}function Mn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.setSawnType(t),e.next=3,(0,gr.gz)($t.updateParam({spawnType:t}));case 3:case"end":return e.stop()}}),e)}))()}function _n(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeMaxParticles(t),e.next=3,(0,gr.gz)($t.updateParam({maxParticles:t}));case 3:case"end":return e.stop()}}),e)}))()}function Fn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeGravity(t),e.next=3,(0,gr.gz)($t.updateParam({gravity:t}));case 3:case"end":return e.stop()}}),e)}))()}function zn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeAirResistance(t),e.next=3,(0,gr.gz)($t.updateParam({airResistance:t}));case 3:case"end":return e.stop()}}),e)}))()}function Gn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeDuration(t),e.next=3,(0,gr.gz)($t.updateParam({duration:t}));case 3:case"end":return e.stop()}}),e)}))()}function Rn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeLifeTime(t),e.next=3,(0,gr.gz)($t.updateParam({lifetime:t}));case 3:case"end":return e.stop()}}),e)}))()}function Nn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeIsSolidColor(t),e.next=3,(0,gr.gz)($t.updateParam({isSolidColor:t}));case 3:case"end":return e.stop()}}),e)}))()}function Bn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeStartColor(t),e.next=3,(0,gr.gz)($t.updateParam({startColor:t}));case 3:case"end":return e.stop()}}),e)}))()}function Un(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeEndColor(t),e.next=3,(0,gr.gz)($t.updateParam({endColor:t}));case 3:case"end":return e.stop()}}),e)}))()}function Yn(e){var t=e.payload;return vn().mark((function e(){var r,n,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeDegrees(t),r=nn(t,2),n=r[0],i=r[1],e.next=4,(0,gr.Ys)((function(e){return e}));case 4:return a=e.sent,o=a.main.params.arcParam,e.next=8,(0,gr.gz)($t.updateParam({arcParam:tn(tn({},o),{},{startDegree:n.value,endDegree:i.value})}));case 8:case"end":return e.stop()}}),e)}))()}function $n(e){var t=e.payload;return vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeRadius(t),e.next=3,(0,gr.Ys)((function(e){return e}));case 3:return r=e.sent,n=r.main.params.circleParam,e.next=7,(0,gr.gz)($t.updateParam({circleParam:tn(tn({},n),{},{radius:t})}));case 7:case"end":return e.stop()}}),e)}))()}function Hn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeMaxParticlesParSec(t),e.next=3,(0,gr.gz)($t.updateParam({maxParticlesParSec:t}));case 3:case"end":return e.stop()}}),e)}))()}function Wn(e){var t=e.payload;return vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeLineDegree(t),e.next=3,(0,gr.Ys)((function(e){return e}));case 3:return r=e.sent,n=r.main.params.lineParam,e.next=7,(0,gr.gz)($t.updateParam({lineParam:tn(tn({},n),{},{degree:t})}));case 7:case"end":return e.stop()}}),e)}))()}function Xn(e){var t=e.payload;return vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeLineWidth(t),e.next=3,(0,gr.Ys)((function(e){return e}));case 3:return r=e.sent,n=r.main.params.lineParam,e.next=7,(0,gr.gz)($t.updateParam({lineParam:tn(tn({},n),{},{width:t})}));case 7:case"end":return e.stop()}}),e)}))()}function Jn(e){var t=e.payload;return vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeLineEmitType(t),e.next=3,(0,gr.Ys)((function(e){return e}));case 3:return r=e.sent,n=r.main.params.lineParam,e.next=7,(0,gr.gz)($t.updateParam({lineParam:tn(tn({},n),{},{emitType:t})}));case 7:case"end":return e.stop()}}),e)}))()}function Vn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeSpeed(t),e.next=3,(0,gr.gz)($t.updateParam({speed:t}));case 3:case"end":return e.stop()}}),e)}))()}function Kn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeScales(t),e.next=3,(0,gr.gz)($t.updateParam({scales:t}));case 3:case"end":return e.stop()}}),e)}))()}function qn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeRotation(t),e.next=3,(0,gr.gz)($t.updateParam({rotation:t}));case 3:case"end":return e.stop()}}),e)}))()}function Qn(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeImage(t),e.next=3,(0,gr.gz)($t.updateParam({image:t}));case 3:case"end":return e.stop()}}),e)}))()}function ei(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeUseGround(t),e.next=3,(0,gr.gz)($t.updateParam({useGround:t}));case 3:case"end":return e.stop()}}),e)}))()}function ti(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeGroundY(t),e.next=3,(0,gr.gz)($t.updateParam({groundY:t}));case 3:case"end":return e.stop()}}),e)}))()}function ri(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeDamping(t),e.next=3,(0,gr.gz)($t.updateParam({damping:t}));case 3:case"end":return e.stop()}}),e)}))()}function ni(e){var t=e.payload;return vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.changeBlendMode(t),e.next=3,(0,gr.gz)($t.updateParam({blendMode:t}));case 3:case"end":return e.stop()}}),e)}))()}function ii(e){var t=e.payload;return vn().mark((function e(){var r,n,i,a,o,c,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0],n=new FileReader,i=r.name,n.readAsDataURL(r),e.next=6,new Promise((function(e){return n.onload=function(){return e()}}));case 6:return a=_r.instance.getStore("images"),o=n.result,e.next=10,Pn(o);case 10:return c=e.sent,u="".concat((0,Gr.x0)()),e.next=14,a.put({id:u,source:o,hash:c,name:"".concat(i),fullname:"".concat(i),isUserdata:!0},u);case 14:return e.next=16,Sn();case 16:case"end":return e.stop()}}),e)}))()}function ai(e){var t=e.payload;return vn().mark((function e(){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.deleteUserTexture(t),r=_r.instance.getStore("images"),e.next=4,r.delete(t);case 4:return console.log(t),e.next=7,(0,gr.gz)($t.updateParam(xn.getParams()));case 7:case"end":return e.stop()}}),e)}))()}function oi(){var e,t;return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,gr.Ys)((function(e){return e}));case 2:return e=r.sent,t=e.main.currentFilename,r.next=6,(0,gr.gz)($t.handleSaveAs(t));case 6:case"end":return r.stop()}}),sn)}function ci(e){var t=e.payload;return vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xn.exportToJSON(),n=_r.instance.getStore("perticles"),e.next=4,n.put(r,"".concat(t));case 4:return e.next=6,(0,gr.gz)($t.updateFilename(t));case 6:return e.next=8,(0,gr.RE)(On);case 8:case"end":return e.stop()}}),e)}))()}function ui(e){var t=e.payload;return vn().mark((function e(){var r,n,i,a,o,c,u,s,l;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r.instance.getStore("perticles"),e.next=3,r.get("".concat(t));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return i=JSON.parse(n),a=i.image,o=_r.instance.getStore("images"),e.next=10,o.getFromIndex("hash","".concat(a.hash));case 10:if((c=e.sent)||(c=xn.findStdTextureByHash(a.hash)),c){e.next=23;break}return u=_r.instance.getStore("images"),s=a.source,e.next=17,Pn(s);case 17:return l=e.sent,c={id:(0,Gr.x0)(),source:s,hash:l,name:"".concat(a.name),fullname:"".concat(a.name),isUserdata:!0},e.next=21,u.put(c,c.id);case 21:return e.next=23,Sn();case 23:return e.next=25,xn.importFromObj(tn(tn({},JSON.parse(n)),{},{image:c}));case 25:return e.next=27,(0,gr.gz)($t.updateFilename(t));case 27:return e.next=29,(0,gr.gz)($t.setParams({params:xn.getParams()}));case 29:case"end":return e.stop()}}),e)}))()}var si=function(e,t){return Array.from({length:e.length},(function(e,t){return t})).map((function(e){return 0===e?t:"".concat(t,"(").concat(e,")")})).find((function(t){return!e.includes(t)}))};function li(e){var t=e.payload,r=t.name,n=t.json;return vn().mark((function e(){var t,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_r.instance.getStore("perticles"),e.next=3,t.getAllKeys();case 3:return i=e.sent,a=si(i,r),e.next=7,t.put(n,"".concat(a));case 7:return e.next=9,(0,gr.RE)(On);case 9:return e.next=11,(0,gr.RE)(ui,{payload:a});case 11:return e.next=13,(0,gr.gz)($t.updateFilename(a));case 13:case"end":return e.stop()}}),e)}))()}function fi(){var e,t,r,n,i,a,o,c,u;return vn().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,gr.Ys)((function(e){return e}));case 2:return e=s.sent,t=e.main,r=t.currentFilename,n=t.isCurrentFile,i=xn.exportToJSON(),a=new Blob([i],{type:"application/json"}),o=URL.createObjectURL(a),(c=document.createElement("a")).href=o,u=n?r:"perticle",c.download="".concat(u,".json"),s.next=15,(0,gr.RE)([c,"click"]);case 15:return URL.revokeObjectURL(o),s.next=18,!0;case 18:case"end":return s.stop()}}),ln)}function pi(e){var t=e.payload;return vn().mark((function e(){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r.instance.getStore("perticles"),e.next=3,r.delete("".concat(t));case 3:return e.next=5,(0,gr.RE)(On);case 5:case"end":return e.stop()}}),e)}))()}function di(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,gr.$6)([(0,gr.ib)($t.initialize,Tn),(0,gr.ib)($t.loadDefaultTexturesConfig,En),(0,gr.ib)($t.resetTrigger,Ln),(0,gr.ib)($t.updateBgcolor,Zn),(0,gr.ib)($t.viewGrid,In),(0,gr.ib)($t.viewGuide,Dn),(0,gr.ib)($t.changeLoop,An),(0,gr.ib)($t.changeSpawnType,Mn),(0,gr.ib)($t.changeMaxParticles,_n),(0,gr.ib)($t.changeGravity,Fn),(0,gr.ib)($t.changeAirResistance,zn),(0,gr.ib)($t.changeDuration,Gn),(0,gr.ib)($t.changeLifeTime,Rn),(0,gr.ib)($t.changeIsSolidColor,Nn),(0,gr.ib)($t.changeStartColor,Bn),(0,gr.ib)($t.changeEndColor,Un),(0,gr.ib)($t.changeDegrees,Yn),(0,gr.ib)($t.changeRadius,$n),(0,gr.ib)($t.changeMaxParticlesParSec,Hn),(0,gr.ib)($t.changeLineDegree,Wn),(0,gr.ib)($t.changeLineEmitType,Jn),(0,gr.ib)($t.changeLineWidth,Xn),(0,gr.ib)($t.changeSpeed,Vn),(0,gr.ib)($t.changeScales,Kn),(0,gr.ib)($t.changeImage,Qn),(0,gr.ib)($t.changeUseGround,ei),(0,gr.ib)($t.changeGroundY,ti),(0,gr.ib)($t.changeDamping,ri),(0,gr.ib)($t.changeBlendMode,ni),(0,gr.ib)($t.changeRotation,qn),(0,gr.ib)($t.onFileSelected,ii),(0,gr.ib)($t.handleImageDelete,ai),(0,gr.ib)($t.handleSave,oi),(0,gr.ib)($t.handleSaveAs,ci),(0,gr.ib)($t.handleLoad,ui),(0,gr.ib)($t.handleImport,li),(0,gr.ib)($t.handleExport,fi),(0,gr.ib)($t.handleDelete,pi)]);case 2:case"end":return e.stop()}}),fn)}function hi(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,gr.$6)([di()]);case 2:case"end":return e.stop()}}),pn)}function mi(e){return function(e){if(Array.isArray(e))return vi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gi=(0,vr.ZP)(),yi=(0,zt.xC)({reducer:{main:Ht},devTools:false,middleware:function(e){return[].concat(mi(e({serializableCheck:{ignoredActions:["pixi-perticle-editor/onFileSelected"]}})),[gi])}});gi.run(hi);const xi=yi;var bi=r(8396);const wi=function(e){var t=(0,bi.Z)("(prefers-color-scheme= dark)"),r=(0,i.Z)({palette:{mode:t?"dark":"light"}});return(0,y.jsx)(n.StrictMode,{children:(0,y.jsx)(o.zt,{store:xi,children:(0,y.jsx)(a.Z,{theme:r,children:(0,y.jsx)(mr,{})})})})};var ji=r(745);function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Si(){Si=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),c=new E(n||[]);return i(o,"_invoke",{value:O(e,r,c)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",h="completed",m={};function v(){}function g(){}function y(){}var x={};s(x,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==r&&n.call(w,o)&&(x=w);var j=y.prototype=v.prototype=Object.create(x);function P(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,c){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Pi(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function O(t,r,n){var i=p;return function(a,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var s=f(t,r,n);if("normal"===s.type){if(i=n.done?h:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=h,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Pi(t)+" is not iterable")}return g.prototype=y,i(j,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(l(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(j),s(j,u,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return c.type="throw",c.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Oi(e,t,r,n,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,i)}var Ci=function(){var e,t=(e=Si().mark((function e(t){var r;return Si().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={images:[{name:"hash",keyPath:"hash"}],perticles:[]},e.next=3,_r.init("pixi-perticle",r);case 3:(0,ji.s)(document.getElementById("react-root")).render((0,y.jsx)(wi,{}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Oi(a,n,i,o,c,"next",e)}function c(e){Oi(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();Ci()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,i,a)=>{if(!n){var o=1/0;for(l=0;l<e.length;l++){for(var[n,i,a]=e[l],c=!0,u=0;u<n.length;u++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(c=!1,a<o&&(o=a));if(c){e.splice(l--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,i,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var c=2&i&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(a,o),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[o,c,u]=n,s=0;if(o.some((t=>0!==e[t]))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(u)var l=u(r)}for(t&&t(n);s<o.length;s++)a=o[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},n=self.webpackChunkpixijs_boilerplate=self.webpackChunkpixijs_boilerplate||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var n=r.O(void 0,[502],(()=>r(6314)));n=r.O(n)})();