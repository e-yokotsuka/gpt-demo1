<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ChatGPT vs Claude デモ比較</title>
	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; }
		body {
			font-family: "Segoe UI", Arial, sans-serif;
			background: #1a1a2e;
			color: #fff;
			height: 100vh;
			display: flex;
			flex-direction: column;
			overflow: hidden;
		}
		header {
			display: flex;
			align-items: center;
			padding: 8px 16px;
			background: #16213e;
			border-bottom: 1px solid #0f3460;
			gap: 16px;
			flex-shrink: 0;
		}
		header a {
			color: #a8b2d1;
			text-decoration: none;
			font-size: 14px;
			white-space: nowrap;
		}
		header a:hover { color: #fff; }
		#demo-title {
			font-size: 16px;
			font-weight: bold;
			color: #e2e8f0;
			flex: 1;
			text-align: center;
		}
		.tab-bar {
			display: flex;
			background: #16213e;
			border-bottom: 2px solid #0f3460;
			flex-shrink: 0;
		}
		.tab {
			padding: 10px 24px;
			border: none;
			background: transparent;
			color: #a8b2d1;
			font-size: 15px;
			font-weight: bold;
			cursor: pointer;
			position: relative;
			transition: all 0.2s;
		}
		.tab:hover { color: #fff; background: rgba(255,255,255,0.05); }
		.tab.active-chatgpt {
			color: #10a37f;
			background: rgba(16, 163, 127, 0.1);
		}
		.tab.active-chatgpt::after {
			content: "";
			position: absolute;
			bottom: -2px;
			left: 0;
			right: 0;
			height: 3px;
			background: #10a37f;
		}
		.tab.active-claude {
			color: #d4a27f;
			background: rgba(212, 162, 127, 0.1);
		}
		.tab.active-claude::after {
			content: "";
			position: absolute;
			bottom: -2px;
			left: 0;
			right: 0;
			height: 3px;
			background: #d4a27f;
		}
		.tab.active-codex {
			color: #38bdf8;
			background: rgba(56, 189, 248, 0.12);
		}
		.tab.active-codex::after {
			content: "";
			position: absolute;
			bottom: -2px;
			left: 0;
			right: 0;
			height: 3px;
			background: #38bdf8;
		}
		.tab.active-reason {
			color: #f59e0b;
			background: rgba(245, 158, 11, 0.12);
		}
		.tab.active-reason::after {
			content: "";
			position: absolute;
			bottom: -2px;
			left: 0;
			right: 0;
			height: 3px;
			background: #f59e0b;
		}
		.iframe-container {
			flex: 1;
			position: relative;
		}
		.demo-frame {
			width: 100%;
			height: 100%;
			border: none;
			display: none;
			position: absolute;
			top: 0;
			left: 0;
		}
		.demo-frame.active { display: block; }
		.coming-soon {
			display: none;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: #1a1a2e;
			color: #a8b2d1;
			font-size: 24px;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			gap: 12px;
		}
		.coming-soon.active { display: flex; }
	</style>
</head>
<body>
	<header>
		<a href="./index.html">&larr; メニューに戻る</a>
		<span id="demo-title"></span>
		<span style="width:100px"></span>
	</header>
	<div class="tab-bar">
		<button class="tab active-chatgpt" id="tab-chatgpt" onclick="switchTab('chatgpt')">ChatGPT</button>
		<button class="tab" id="tab-claude" onclick="switchTab('claude')">Claude Opus 4.6</button>
		<button class="tab" id="tab-codex" onclick="switchTab('codex')">ChatGPT-5.3-Codex</button>
		<button class="tab" id="tab-reason" onclick="switchTab('reason')">見送り理由</button>
	</div>
		<div class="iframe-container">
		<iframe id="chatgpt-frame" class="demo-frame active"></iframe>
		<iframe id="claude-frame" class="demo-frame"></iframe>
		<iframe id="codex-frame" class="demo-frame"></iframe>
		<iframe id="reason-frame" class="demo-frame"></iframe>
		<div id="coming-soon" class="coming-soon">
			<div id="coming-soon-title">準備中...</div>
			<div id="coming-soon-detail" style="font-size:14px;color:#666">このデモのClaude版はまだ作成されていません</div>
		</div>
	</div>
	<script>
		const DEFAULT_CODEX_REASON = "このデモのChatGPT-5.3-Codex版は未対応です。実装規模が大きいため、今回は見送りました。";
		const DEFERRED_CODEX_DEMOS = {
			"wiz2": "3Dダンジョン表現の再実装は大規模なため、今回は見送りました。",
			"particles": "描画とパラメータ編集機構の再構築が大規模なため、今回は見送りました。",
			"rpg": "マップ・戦闘・状態管理が絡み、短時間での品質担保が難しいため見送りました。",
		};

		function buildDeferredCodexUrl(config, demoId) {
			const reason = DEFERRED_CODEX_DEMOS[demoId] || DEFAULT_CODEX_REASON;
			const name = config?.title || demoId || "不明";
			return `./codex-deferred.html?name=${encodeURIComponent(name)}&reason=${encodeURIComponent(reason)}`;
		}

		const MISSING_VERSION_MESSAGES = {
			"side-scroller": {
				chatgpt: "このデモのChatGPT版は存在しません",
			},
		};

		const DEMO_CONFIG = {
			"matrix": { title: "Digital Rain Matrix", chatgpt: "./matrix.html", claude: "./claude/matrix.html", codex: "./codex-matrix.html" },
			"snow": { title: "Falling Snowflakes", chatgpt: "./snow.html", claude: "./claude/snow.html", codex: "./codex-snow.html" },
			"roaming-cockroaches": { title: "Roaming Cockroaches", chatgpt: "./roaming-cockroaches.html", claude: "./claude/roaming-cockroaches.html", codex: "./codex-roaming-cockroaches.html" },
			"mandelbrot-slow": { title: "Mandelbrot Explorer Part.1", chatgpt: "./mandelbrot-slow.html", claude: "./claude/mandelbrot-slow.html", codex: "./codex-mandelbrot-slow.html" },
			"mandelbrot-slow2": { title: "Mandelbrot Explorer Part.2", chatgpt: "./mandelbrot-slow2.html", claude: "./claude/mandelbrot-slow2.html", codex: "./codex-mandelbrot-slow2.html" },
			"mandelbrot-ol": { title: "Mandelbrot OpenLayers", chatgpt: "./mandelbrot-ol.html", claude: "./claude/mandelbrot-ol.html", codex: "./codex-mandelbrot-ol.html" },
			"linedemo": { title: "Dynamic Colorful Lines", chatgpt: "./linedemo.html", claude: "./claude/linedemo.html", codex: "./codex-linedemo.html" },
			"thunder": { title: "Electrifying Thunderstorm", chatgpt: "./thunder.html", claude: "./claude/thunder.html", codex: "./codex-thunder.html" },
			"water-ripples1": { title: "Water Ripples Simulation Part.1", chatgpt: "./water-ripples1.html", claude: "./claude/water-ripples1.html", codex: "./codex-water-ripples1.html" },
			"water-ripples2": { title: "Water Ripples Simulation Part.2", chatgpt: "./water-ripples2.html", claude: "./claude/water-ripples2.html", codex: "./codex-water-ripples2.html" },
			"balls": { title: "Bouncing Colorful Balls", chatgpt: "./balls.html", claude: "./claude/balls.html", codex: "./codex-balls.html" },
			"cool-design": { title: "Cool Design Showcase", chatgpt: "./cool-design.html", claude: "./claude/cool-design.html", codex: "./codex-cool-design.html" },
			"retro-1980s-homepage": { title: "1980s Retro Homepage", chatgpt: "./retro-1980s-homepage.html", claude: "./claude/retro-1980s-homepage.html", codex: "./codex-retro-1980s-homepage.html" },
			"space-travel-demo": { title: "Space Travel Demo Part.1", chatgpt: "./space-travel-demo.html", claude: "./claude/space-travel-demo.html", codex: "./codex-space-travel-demo.html" },
			"space-travel-demo2": { title: "Space Travel Demo Part.2", chatgpt: "./space-travel-demo2.html", claude: "./claude/space-travel-demo2.html", codex: "./codex-space-travel-demo2.html" },
			"stereogram-demo": { title: "Stereogram Demo", chatgpt: "./stereogram-demo.html", claude: "./claude/stereogram-demo.html", codex: "./codex-stereogram-demo.html" },
			"chaos-curve-demo": { title: "Chaos Curve Demo", chatgpt: "./chaos-curve-demo.html", claude: "./claude/chaos-curve-demo.html", codex: "./codex-chaos-curve-demo.html" },
			"megademo-style-demo": { title: "MegaDemo Style Demo", chatgpt: "./megademo-style-demo.html", claude: "./claude/megademo-style-demo.html", codex: "./codex-megademo-style-demo.html" },
			"daisy-bell-music-demo": { title: "Daisy Bell Music Demo", chatgpt: "./daisy-bell-music-demo.html", claude: "./claude/daisy-bell-music-demo.html", codex: "./codex-daisy-bell-music-demo.html" },
			"lorenz-attractor-demo": { title: "Lorenz Attractor Demo", chatgpt: "./lorenz-attractor-demo.html", claude: "./claude/lorenz-attractor-demo.html", codex: "./codex-lorenz-attractor-demo.html" },
			"picture-book": { title: "Picture Book", chatgpt: "./picture-book.html", claude: "./claude/picture-book.html", codex: "./codex-picture-book.html" },
			"tetris": { title: "Tetris (PixiJS)", chatgpt: "./tetris.html", claude: "./claude/tetris.html", codex: "./codex-tetris.html" },
			"yaruo": { title: "やる夫AA生成（2chやる夫をAAで再現）", chatgpt: "./yaruo.html", claude: "./claude/yaruo.html", codex: "./codex-yaruo.html" },
			"wiz": { title: "Wizardry Dungeon", chatgpt: "./wiz.html", claude: "./claude/wiz.html", codex: "./codex-wiz.html" },
			"wiz2": { title: "Wizardry 3D Dungeon", chatgpt: "./wiz2.html", claude: "./claude/wiz2.html" },
			"particles": { title: "Particle Editor", chatgpt: "./particles.html", claude: "./claude/particles.html" },
			"rpg": { title: "Retro RPG", chatgpt: "./rpg.html", claude: "./claude/rpg.html" },
			"tet": { title: "Tetris (Simple)", chatgpt: "./tet.html", claude: "./claude/tet.html", codex: "./codex-tet.html" },
			"shoot": { title: "Shooting Game", chatgpt: "./shoot.html", claude: "./claude/shoot.html", codex: "./codex-shoot.html" },
			"cubes": { title: "Rotating Cubes", chatgpt: "./cubes.html", claude: "./claude/cubes.html", codex: "./codex-cubes.html" },
			"side-scroller": {
				title: "Side-Scroller Action Game",
				chatgpt: "",
				claude: "./side-scroller.html",
				codex: "./side-scroller-codex.html",
			},
		};

		const params = new URLSearchParams(window.location.search);
		const demoId = params.get("demo");
		const config = DEMO_CONFIG[demoId];

		if (config) {
			document.getElementById("demo-title").textContent = config.title;
			document.title = config.title + " - ChatGPT vs Claude";
			const chatgptFrame = document.getElementById("chatgpt-frame");
			const claudeFrame = document.getElementById("claude-frame");
			if (config.chatgpt) {
				chatgptFrame.src = config.chatgpt;
			} else {
				chatgptFrame.removeAttribute("src");
			}
			if (config.claude) {
				claudeFrame.src = config.claude;
			} else {
				claudeFrame.removeAttribute("src");
			}
			const labels = config.labels || { primary: "ChatGPT", secondary: "Claude Opus 4.6", tertiary: "ChatGPT-5.3-Codex", quaternary: "見送り理由" };
			document.getElementById("tab-chatgpt").textContent = labels.primary;
			document.getElementById("tab-claude").textContent = labels.secondary;
			document.getElementById("tab-codex").textContent = labels.tertiary || "ChatGPT-5.3-Codex";
			document.getElementById("tab-reason").textContent = labels.quaternary || "見送り理由";
			const codexTab = document.getElementById("tab-codex");
			const codexFrame = document.getElementById("codex-frame");
			codexTab.style.display = "";
			codexFrame.src = config.codex || buildDeferredCodexUrl(config, demoId);
			// 見送り理由タブは常に非表示（Codexタブ自体が見送りページを兼ねるため不要）
			document.getElementById("tab-reason").style.display = "none";
		} else {
			document.getElementById("demo-title").textContent = "デモが見つかりません";
		}

		let currentTab = "chatgpt";

		function showComingSoon(message) {
			const comingSoon = document.getElementById("coming-soon");
			const title = document.getElementById("coming-soon-title");
			const detail = document.getElementById("coming-soon-detail");
			title.textContent = "未対応";
			detail.textContent = message;
			comingSoon.classList.add("active");
		}

		function hideComingSoon() {
			document.getElementById("coming-soon").classList.remove("active");
		}

		function hasSource(tab) {
			if (!config) return false;
			if (tab === "chatgpt") return Boolean(config.chatgpt);
			if (tab === "claude") return Boolean(config.claude);
			if (tab === "codex") return Boolean(document.getElementById("codex-frame").getAttribute("src"));
			if (tab === "reason") return true;
			return false;
		}

		function getMissingMessage(tab) {
			return MISSING_VERSION_MESSAGES[demoId]?.[tab]
				|| `このデモの${tab === "chatgpt" ? "ChatGPT" : tab === "claude" ? "Claude" : "Codex"}版はまだ作成されていません`;
		}

		function switchTab(tab) {
			currentTab = tab;
			const chatgptFrame = document.getElementById("chatgpt-frame");
			const claudeFrame = document.getElementById("claude-frame");
			const codexFrame = document.getElementById("codex-frame");
			const reasonFrame = document.getElementById("reason-frame");
			const tabChatgpt = document.getElementById("tab-chatgpt");
			const tabClaude = document.getElementById("tab-claude");
			const tabCodex = document.getElementById("tab-codex");
			const tabReason = document.getElementById("tab-reason");

			// タブのスタイルをリセット
			tabChatgpt.className = "tab";
			tabClaude.className = "tab";
			tabCodex.className = "tab";
			tabReason.className = "tab";

			if (tab === "chatgpt") {
				claudeFrame.classList.remove("active");
				codexFrame.classList.remove("active");
				reasonFrame.classList.remove("active");
				if (hasSource("chatgpt")) {
					chatgptFrame.classList.add("active");
					hideComingSoon();
					setTimeout(() => chatgptFrame.contentWindow?.focus(), 50);
				} else {
					chatgptFrame.classList.remove("active");
					showComingSoon(getMissingMessage("chatgpt"));
				}
				tabChatgpt.classList.add("active-chatgpt");
			} else if (tab === "claude") {
				chatgptFrame.classList.remove("active");
				codexFrame.classList.remove("active");
				reasonFrame.classList.remove("active");
				tabClaude.classList.add("active-claude");
				if (hasSource("claude")) {
					claudeFrame.classList.add("active");
					hideComingSoon();
					setTimeout(() => claudeFrame.contentWindow?.focus(), 50);
				} else {
					claudeFrame.classList.remove("active");
					showComingSoon(getMissingMessage("claude"));
				}
			} else if (tab === "codex") {
				chatgptFrame.classList.remove("active");
				claudeFrame.classList.remove("active");
				reasonFrame.classList.remove("active");
				tabCodex.classList.add("active-codex");
				if (hasSource("codex")) {
					codexFrame.classList.add("active");
					hideComingSoon();
					setTimeout(() => codexFrame.contentWindow?.focus(), 50);
				} else {
					codexFrame.classList.remove("active");
					showComingSoon(getMissingMessage("codex"));
				}
			} else {
				chatgptFrame.classList.remove("active");
				claudeFrame.classList.remove("active");
				codexFrame.classList.remove("active");
				reasonFrame.classList.add("active");
				hideComingSoon();
				tabReason.classList.add("active-reason");
				setTimeout(() => reasonFrame.contentWindow?.focus(), 50);
			}
		}

		switchTab(currentTab);
	</script>
</body>
</html>
