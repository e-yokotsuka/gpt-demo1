<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="ai.author" content="Claude">
	<meta name="ai.note" content="This file was generated by Claude.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bouncing Colorful Balls - Claude版</title>
	<style>
		body { margin: 0; overflow: hidden; background: #000; }
		canvas { display: block; }
	</style>
</head>
<body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.3/pixi.min.js"></script>
	<script>
		// Claudeによる跳ねるボールデモ
		// 重力、ボール同士の衝突、グロー効果
		const app = new PIXI.Application({
			width: window.innerWidth,
			height: window.innerHeight,
			backgroundColor: 0x0a0a1a,
			antialias: true
		});
		document.body.appendChild(app.view);

		const gravity = 0.3;
		const bounce = 0.85;
		const friction = 0.999;

		class Ball {
			constructor() {
				this.radius = Math.random() * 25 + 8;
				this.x = Math.random() * (app.screen.width - this.radius * 2) + this.radius;
				this.y = Math.random() * app.screen.height * 0.5;
				this.vx = (Math.random() - 0.5) * 8;
				this.vy = Math.random() * 2;
				this.color = Math.random() * 0xFFFFFF;
				this.graphics = new PIXI.Graphics();
				app.stage.addChild(this.graphics);
			}

			update() {
				this.vy += gravity;
				this.vx *= friction;
				this.x += this.vx;
				this.y += this.vy;

				// 壁との衝突
				if (this.x - this.radius < 0) {
					this.x = this.radius;
					this.vx = Math.abs(this.vx) * bounce;
				}
				if (this.x + this.radius > app.screen.width) {
					this.x = app.screen.width - this.radius;
					this.vx = -Math.abs(this.vx) * bounce;
				}
				if (this.y + this.radius > app.screen.height) {
					this.y = app.screen.height - this.radius;
					this.vy = -Math.abs(this.vy) * bounce;
					// 小さなバウンスで止まらないようにする
					if (Math.abs(this.vy) < 1) {
						this.vy = -Math.random() * 15 - 5;
					}
				}
				if (this.y - this.radius < 0) {
					this.y = this.radius;
					this.vy = Math.abs(this.vy) * bounce;
				}
			}

			draw() {
				this.graphics.clear();
				// グロー効果
				this.graphics.beginFill(this.color, 0.15);
				this.graphics.drawCircle(this.x, this.y, this.radius * 1.8);
				this.graphics.endFill();
				// メインのボール
				this.graphics.beginFill(this.color);
				this.graphics.drawCircle(this.x, this.y, this.radius);
				this.graphics.endFill();
				// ハイライト
				this.graphics.beginFill(0xffffff, 0.4);
				this.graphics.drawCircle(this.x - this.radius * 0.25, this.y - this.radius * 0.25, this.radius * 0.3);
				this.graphics.endFill();
			}
		}

		const balls = Array.from({ length: 40 }, () => new Ball());

		app.ticker.add(() => {
			for (const ball of balls) {
				ball.update();
				ball.draw();
			}
		});
	</script>
</body>
</html>
